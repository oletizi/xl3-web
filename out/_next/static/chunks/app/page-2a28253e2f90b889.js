(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5689:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(2165),a=r(3873);function n(e){let{selectedControl:t,onControlSelect:r}=e,a=Array.from({length:8},(e,t)=>({id:"fader-".concat(t+1),type:"fader",label:"Fader ".concat(t+1),ccNumber:77+t,channel:1,x:60+100*t,y:400})),n=Array.from({length:8},(e,t)=>({id:"fader-btn-".concat(t+1),type:"button",label:"Fader Button ".concat(t+1),ccNumber:41+t,channel:1,x:60+100*t,y:350})),l=[{row:1,startCC:13,y:80},{row:2,startCC:29,y:180},{row:3,startCC:49,y:280}].flatMap(e=>{let{row:t,startCC:r,y:s}=e;return Array.from({length:8},(e,a)=>({id:"knob-".concat(t,"-").concat(a+1),type:"knob",label:"Knob ".concat(t,"-").concat(a+1),ccNumber:r+a,channel:1,x:60+100*a,y:s}))});[...l,...n,...a];let o=e=>(null==t?void 0:t.id)===e.id;return(0,s.jsxs)("div",{className:"w-full bg-gray-900 rounded-lg p-6 overflow-x-auto",children:[(0,s.jsxs)("svg",{viewBox:"0 0 900 550",className:"w-full h-auto",style:{minWidth:"800px"},children:[(0,s.jsx)("rect",{width:"900",height:"550",fill:"#1a1a1a",rx:"20"}),(0,s.jsx)("text",{x:"450",y:"40",textAnchor:"middle",fill:"#fff",fontSize:"20",fontWeight:"bold",children:"Launch Control XL 3"}),l.map(e=>(0,s.jsxs)("g",{onClick:()=>r(e),className:"cursor-pointer transition-all",children:[(0,s.jsx)("circle",{cx:e.x,cy:e.y,r:"22",fill:o(e)?"#3b82f6":"#374151",stroke:o(e)?"#60a5fa":"#4b5563",strokeWidth:"2",className:"hover:fill-gray-600"}),(0,s.jsx)("circle",{cx:e.x,cy:e.y-8,r:"3",fill:"#9ca3af"}),(0,s.jsx)("text",{x:e.x,y:e.y+40,textAnchor:"middle",fill:"#9ca3af",fontSize:"10",children:e.label})]},e.id)),n.map(e=>(0,s.jsxs)("g",{onClick:()=>r(e),className:"cursor-pointer transition-all",children:[(0,s.jsx)("rect",{x:e.x-15,y:e.y-10,width:"30",height:"20",rx:"4",fill:o(e)?"#3b82f6":"#374151",stroke:o(e)?"#60a5fa":"#4b5563",strokeWidth:"2",className:"hover:fill-gray-600"}),(0,s.jsxs)("text",{x:e.x,y:e.y+30,textAnchor:"middle",fill:"#9ca3af",fontSize:"10",children:["BTN ",e.label.split(" ")[2]]})]},e.id)),a.map(e=>(0,s.jsxs)("g",{onClick:()=>r(e),className:"cursor-pointer transition-all",children:[(0,s.jsx)("rect",{x:e.x-8,y:e.y-60,width:"16",height:"80",rx:"8",fill:o(e)?"#1e3a8a":"#1f2937",stroke:o(e)?"#60a5fa":"#4b5563",strokeWidth:"2",className:"hover:fill-gray-700"}),(0,s.jsx)("rect",{x:e.x-12,y:e.y-30,width:"24",height:"12",rx:"2",fill:o(e)?"#3b82f6":"#6b7280",stroke:o(e)?"#60a5fa":"#4b5563",strokeWidth:"1"}),(0,s.jsx)("text",{x:e.x,y:e.y+35,textAnchor:"middle",fill:"#9ca3af",fontSize:"10",children:e.label})]},e.id))]}),(0,s.jsx)("div",{className:"mt-4 text-center text-sm text-gray-400",children:"Click any control to select and edit its properties"})]})}function l(e){var t,r,a,n,l;let{selectedControl:o,mapping:i,onMappingChange:c}=e;return o?(0,s.jsxs)("div",{className:"w-full h-full bg-gray-900 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Control Properties"}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Control ID"}),(0,s.jsx)("div",{className:"px-4 py-2 bg-gray-800 rounded-md text-white",children:o.id})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Control Type"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-white text-sm font-medium ".concat((e=>{switch(e){case"knob":return"bg-purple-600";case"fader":return"bg-blue-600";case"button":return"bg-green-600";default:return"bg-gray-600"}})(o.type)),children:o.type.toUpperCase()}),(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:o.label})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"cc-number",className:"block text-sm font-medium text-gray-400 mb-2",children:"MIDI CC Number"}),(0,s.jsx)("input",{id:"cc-number",type:"number",min:"0",max:"127",value:null!=(t=null==i?void 0:i.cc)?t:o.ccNumber,onChange:e=>c({cc:parseInt(e.target.value,10)}),className:"w-full px-4 py-2 bg-gray-800 rounded-md text-white font-mono border border-gray-700 focus:border-blue-500 focus:outline-none"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Range: 0-127"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"midi-channel",className:"block text-sm font-medium text-gray-400 mb-2",children:"MIDI Channel"}),(0,s.jsx)("input",{id:"midi-channel",type:"number",min:"0",max:"15",value:null!=(r=null==i?void 0:i.channel)?r:o.channel-1,onChange:e=>c({channel:parseInt(e.target.value,10)}),className:"w-full px-4 py-2 bg-gray-800 rounded-md text-white font-mono border border-gray-700 focus:border-blue-500 focus:outline-none"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Range: 0-15 (Channel 1-16)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"behaviour",className:"block text-sm font-medium text-gray-400 mb-2",children:"Behaviour"}),(0,s.jsxs)("select",{id:"behaviour",value:null!=(a=null==i?void 0:i.behaviour)?a:"absolute",onChange:e=>c({behaviour:e.target.value}),className:"w-full px-4 py-2 bg-gray-800 rounded-md text-white border border-gray-700 focus:border-blue-500 focus:outline-none",children:[(0,s.jsx)("option",{value:"absolute",children:"Absolute"}),(0,s.jsx)("option",{value:"relative1",children:"Relative (Two's Complement)"}),(0,s.jsx)("option",{value:"relative2",children:"Relative (Binary Offset)"})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null==i?void 0:i.behaviour)==="absolute"&&"Direct value (0-127)",(null==i?void 0:i.behaviour)==="relative1"&&"Relative encoder with two&apos;s complement",(null==i?void 0:i.behaviour)==="relative2"&&"Relative encoder with binary offset"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"min-value",className:"block text-sm font-medium text-gray-400 mb-2",children:"Min Value"}),(0,s.jsx)("input",{id:"min-value",type:"number",min:"0",max:"127",value:null!=(n=null==i?void 0:i.min)?n:0,onChange:e=>c({min:parseInt(e.target.value,10)}),className:"w-full px-3 py-2 bg-gray-800 rounded-md text-white text-sm font-mono border border-gray-700 focus:border-blue-500 focus:outline-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"max-value",className:"block text-sm font-medium text-gray-400 mb-2",children:"Max Value"}),(0,s.jsx)("input",{id:"max-value",type:"number",min:"0",max:"127",value:null!=(l=null==i?void 0:i.max)?l:127,onChange:e=>c({max:parseInt(e.target.value,10)}),className:"w-full px-3 py-2 bg-gray-800 rounded-md text-white text-sm font-mono border border-gray-700 focus:border-blue-500 focus:outline-none"})]})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-gray-700",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Position"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"X"}),(0,s.jsx)("div",{className:"px-3 py-2 bg-gray-800 rounded-md text-white text-sm font-mono",children:o.x})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Y"}),(0,s.jsx)("div",{className:"px-3 py-2 bg-gray-800 rounded-md text-white text-sm font-mono",children:o.y})]})]})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-gray-700",children:(0,s.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,s.jsx)("p",{children:"✓ Changes are applied immediately"}),(0,s.jsx)("p",{children:"✓ Mode will be marked as modified"}),(0,s.jsx)("p",{children:"Send to device in next step"})]})})]})]}):(0,s.jsx)("div",{className:"w-full h-full bg-gray-900 rounded-lg p-6 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center text-gray-400",children:[(0,s.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),(0,s.jsx)("p",{className:"text-lg font-medium",children:"No Control Selected"}),(0,s.jsx)("p",{className:"text-sm mt-2",children:"Click a control on the hardware visual to view its properties"})]})})}class o{async sendMode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e.output)return{success:!1,message:"Device has no MIDI output"};if(r<0||r>15)return{success:!1,message:"Slot must be between 0 and 15"};try{return await this.sendModeToDevice(e.output,t,r),{success:!0,message:'Mode "'.concat(t.name,'" sent to device slot ').concat(r)}}catch(e){return{success:!1,message:"Failed to send mode to device",error:e instanceof Error?e:Error("Unknown error")}}}async sendModeToDevice(e,t,r){throw Error("Send to device not yet implemented. "+'Would send mode "'.concat(t.name,'" to slot ').concat(r," with ").concat(Object.keys(t.controls).length," controls mapped."))}async testConnection(e){if(!e.output)return{success:!1,message:"Device has no MIDI output"};try{return{success:!0,message:"Successfully connected to ".concat(e.name)}}catch(e){return{success:!1,message:"Connection test failed",error:e instanceof Error?e:Error("Unknown error")}}}}function i(e){let{mode:t,device:r,isDirty:n}=e,[l,i]=(0,a.useState)(0),{isSending:c,lastResult:d,sendMode:m,clearResult:u}=function(){let[e,t]=(0,a.useState)(!1),[r,s]=(0,a.useState)(null),n=new o;return{isSending:e,lastResult:r,sendMode:async function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e)return s({success:!1,message:"No device connected"}),!1;t(!0),s(null);try{let t=await n.sendMode(e,r,a);return s(t),t.success}finally{t(!1)}},testConnection:async e=>{if(!e)return s({success:!1,message:"No device connected"}),!1;t(!0),s(null);try{let t=await n.testConnection(e);return s(t),t.success}finally{t(!1)}},clearResult:()=>{s(null)}}}(),x=async()=>{await m(r,t,l)&&setTimeout(u,5e3)},h=Object.keys(t.controls).length,p=null!==r&&h>0;return(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Send to Device"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"slot-select",className:"block text-sm font-medium text-gray-400 mb-2",children:"Device Slot"}),(0,s.jsx)("select",{id:"slot-select",value:l,onChange:e=>i(parseInt(e.target.value,10)),className:"w-full px-4 py-2 bg-gray-800 rounded-md text-white border border-gray-700 focus:border-blue-500 focus:outline-none",disabled:c,children:Array.from({length:16},(e,t)=>(0,s.jsxs)("option",{value:t,children:["Slot ",t," ",0===t&&"(Factory Default)"]},t))}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Launch Control XL 3 has 16 custom mode slots"})]}),(0,s.jsx)("div",{className:"bg-gray-800 rounded-md p-4",children:(0,s.jsxs)("div",{className:"text-sm space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Mode Name:"}),(0,s.jsx)("span",{className:"text-white font-medium",children:t.name})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Controls Mapped:"}),(0,s.jsx)("span",{className:"text-white font-medium",children:h})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Device Status:"}),(0,s.jsx)("span",{className:"font-medium ".concat(r?"text-green-400":"text-red-400"),children:r?"Connected":"Not Connected"})]}),n&&(0,s.jsxs)("div",{className:"flex items-center text-yellow-400 text-xs pt-2 border-t border-gray-700",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Unsaved changes"]})]})}),(0,s.jsx)("button",{onClick:x,disabled:!p||c,className:"w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,s.jsx)("span",{children:"Sending..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,s.jsx)("span",{children:"Send to Device"})]})}),!p&&!r&&(0,s.jsx)("p",{className:"text-sm text-yellow-500 text-center",children:"Connect a Launch Control XL 3 device to send modes"}),!p&&r&&0===h&&(0,s.jsx)("p",{className:"text-sm text-yellow-500 text-center",children:"Map at least one control before sending"}),d&&(0,s.jsx)("div",{className:"rounded-md p-4 ".concat(d.success?"bg-green-900/20 border border-green-900/50":"bg-red-900/20 border border-red-900/50"),children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[d.success?(0,s.jsx)("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):(0,s.jsx)("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium ".concat(d.success?"text-green-400":"text-red-400"),children:d.message}),d.error&&(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:d.error.message})]}),(0,s.jsx)("button",{onClick:u,className:"text-gray-500 hover:text-gray-400",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 space-y-1 pt-2 border-t border-gray-700",children:[(0,s.jsx)("p",{children:"• Mode will be saved to the selected device slot"}),(0,s.jsx)("p",{children:"• Device will automatically switch to the new mode"}),(0,s.jsx)("p",{children:"• Original factory modes can be restored via Novation Components"})]})]})]})}function c(e){let{mode:t,onNameChange:r,onDescriptionChange:a}=e;return(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Mode Information"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"mode-name",className:"block text-sm font-medium text-gray-400 mb-2",children:["Mode Name ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{id:"mode-name",type:"text",value:t.name,onChange:e=>r(e.target.value),placeholder:"Enter mode name...",className:"w-full px-4 py-2 bg-gray-800 rounded-md text-white border border-gray-700 focus:border-blue-500 focus:outline-none placeholder-gray-500",maxLength:32}),(0,s.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Required field"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[t.name.length,"/32"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"mode-description",className:"block text-sm font-medium text-gray-400 mb-2",children:"Description"}),(0,s.jsx)("textarea",{id:"mode-description",value:t.description||"",onChange:e=>a(e.target.value),placeholder:"Optional description of this mode...",rows:3,className:"w-full px-4 py-2 bg-gray-800 rounded-md text-white border border-gray-700 focus:border-blue-500 focus:outline-none placeholder-gray-500 resize-none",maxLength:256}),(0,s.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Optional"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[(t.description||"").length,"/256"]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-md p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Tips"}),(0,s.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[(0,s.jsx)("li",{children:"• Choose a descriptive name for your mode"}),(0,s.jsx)("li",{children:"• Include DAW or plugin name if mode is specific"}),(0,s.jsx)("li",{children:"• Use description to document control assignments"})]})]})]})]})}function d(e){let{isDirty:t,lastSaved:r,storageSize:n,onManualSave:l,onClear:o}=e,[i,c]=(0,a.useState)("");return(0,a.useEffect)(()=>{if(!r)return void c("Never");let e=()=>{let e=new Date,t=new Date(r),s=Math.floor((e.getTime()-t.getTime())/1e3),a=Math.floor(s/60),n=Math.floor(a/60);s<10?c("Just now"):s<60?c("".concat(s," seconds ago")):a<60?c("".concat(a," minute").concat(1!==a?"s":""," ago")):n<24?c("".concat(n," hour").concat(1!==n?"s":""," ago")):c(t.toLocaleDateString())};e();let t=setInterval(e,1e4);return()=>clearInterval(t)},[r]),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-white flex items-center",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Auto-Save Status"]}),t&&(0,s.jsxs)("span",{className:"flex items-center text-xs text-yellow-400",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full bg-yellow-400 mr-1 animate-pulse"}),"Unsaved changes"]})]}),(0,s.jsxs)("div",{className:"space-y-2 text-xs text-gray-400",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Last saved:"}),(0,s.jsx)("span",{className:"text-white",children:i})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Storage used:"}),(0,s.jsx)("span",{className:"text-white",children:(e=>{if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(Math.round(e/Math.pow(1024,t)*100)/100," ").concat(["B","KB","MB"][t])})(n)})]})]}),(0,s.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-800 flex space-x-2",children:[(0,s.jsx)("button",{onClick:l,className:"flex-1 px-3 py-1.5 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"Save Now"}),(0,s.jsx)("button",{onClick:o,className:"flex-1 px-3 py-1.5 bg-gray-800 text-gray-300 text-xs rounded hover:bg-gray-700 transition-colors",children:"Clear"})]}),(0,s.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"Changes auto-save after 2 seconds of inactivity"})]})}class m{exportToJSON(e){return JSON.stringify(e,null,2)}downloadAsFile(e,t){try{let r=this.exportToJSON(e),s=new Blob([r],{type:"application/json"}),a=URL.createObjectURL(s),n=e.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),l=t||"xl3-mode-".concat(n,"-").concat(Date.now(),".json"),o=document.createElement("a");return o.href=a,o.download=l,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a),{success:!0,message:"Mode exported as ".concat(l)}}catch(e){return{success:!1,message:"Failed to export mode",error:e instanceof Error?e:Error("Unknown error")}}}async importFromFile(e){try{if(!e.name.endsWith(".json"))return{success:!1,message:"File must be a JSON file (.json)"};let t=await e.text();return this.importFromJSON(t)}catch(e){return{success:!1,message:"Failed to read file",error:e instanceof Error?e:Error("Unknown error")}}}importFromJSON(e){try{let t=JSON.parse(e),r=this.validateModeStructure(t);if(!r.valid)return{success:!1,message:r.error||"Invalid mode structure"};let s={name:t.name||"Imported Mode",description:t.description||"",controls:t.controls||{}};return{success:!0,message:'Mode "'.concat(s.name,'" imported successfully'),mode:s}}catch(e){return{success:!1,message:"Invalid JSON format",error:e instanceof Error?e:Error("Parse error")}}}validateModeStructure(e){return e&&"object"==typeof e?e.name&&"string"==typeof e.name?0===e.name.length?{valid:!1,error:"Mode name cannot be empty"}:void 0!==e.description&&"string"!=typeof e.description?{valid:!1,error:"Mode description must be a string"}:e.controls&&"object"==typeof e.controls?{valid:!0}:{valid:!1,error:"Mode must have a controls object"}:{valid:!1,error:"Mode must have a name (string)"}:{valid:!1,error:"Mode data must be an object"}}copyToClipboard(e){try{let t=this.exportToJSON(e);if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(t),{success:!0,message:"Mode JSON copied to clipboard"};{let e=document.createElement("textarea");return e.value=t,e.style.position="fixed",e.style.left="-999999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),{success:!0,message:"Mode JSON copied to clipboard"}}}catch(e){return{success:!1,message:"Failed to copy to clipboard",error:e instanceof Error?e:Error("Unknown error")}}}}function u(e){let{mode:t,onImport:r}=e,[n,l]=(0,a.useState)(null),o=(0,a.useRef)(null),i=new m,c=async e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(!s)return;let a=await i.importFromFile(s);l(a),a.success&&a.mode&&r(a.mode),o.current&&(o.current.value=""),setTimeout(()=>l(null),5e3)},d=async()=>{try{let e=await navigator.clipboard.readText(),t=i.importFromJSON(e);l(t),t.success&&t.mode&&r(t.mode),setTimeout(()=>l(null),5e3)}catch(e){l({success:!1,message:"Failed to read from clipboard",error:e instanceof Error?e:Error("Unknown error")}),setTimeout(()=>l(null),5e3)}},u=Object.keys(t.controls).length;return(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Import / Export"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Export Mode"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("button",{onClick:()=>{l(i.downloadAsFile(t)),setTimeout(()=>l(null),5e3)},disabled:0===u,className:"w-full px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,s.jsx)("span",{children:"Download as JSON"})]}),(0,s.jsxs)("button",{onClick:()=>{l(i.copyToClipboard(t)),setTimeout(()=>l(null),3e3)},disabled:0===u,className:"w-full px-4 py-2 bg-gray-800 text-gray-300 text-sm rounded-md hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,s.jsx)("span",{children:"Copy JSON to Clipboard"})]})]}),0===u&&(0,s.jsx)("p",{className:"text-xs text-yellow-500 mt-2",children:"Map at least one control before exporting"})]}),(0,s.jsxs)("div",{className:"border-t border-gray-800 pt-4",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Import Mode"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("input",{ref:o,type:"file",accept:".json",onChange:c,className:"hidden"}),(0,s.jsxs)("button",{onClick:()=>{var e;null==(e=o.current)||e.click()},className:"w-full px-4 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),(0,s.jsx)("span",{children:"Load from JSON File"})]}),(0,s.jsxs)("button",{onClick:d,className:"w-full px-4 py-2 bg-gray-800 text-gray-300 text-sm rounded-md hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,s.jsx)("span",{children:"Paste JSON from Clipboard"})]})]})]}),n&&(0,s.jsx)("div",{className:"rounded-md p-3 ".concat(n.success?"bg-green-900/20 border border-green-900/50":"bg-red-900/20 border border-red-900/50"),children:(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[n.success?(0,s.jsx)("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):(0,s.jsx)("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-xs font-medium ".concat(n.success?"text-green-400":"text-red-400"),children:n.message}),!n.success&&"error"in n&&n.error&&(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:n.error.message})]})]})}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 space-y-1 pt-2 border-t border-gray-800",children:[(0,s.jsx)("p",{children:"• Export to share modes with others"}),(0,s.jsx)("p",{children:"• Import to load modes from files or clipboard"}),(0,s.jsx)("p",{children:"• JSON format is human-readable and editable"})]})]})]})}class x{async initialize(){if(!navigator.requestMIDIAccess)throw Error("WebMIDI is not supported in this browser");try{return this.midiAccess=await navigator.requestMIDIAccess({sysex:!0}),this.setupDeviceListeners(),this.scanDevices(),!0}catch(e){if(e instanceof Error)throw Error("Failed to access MIDI: ".concat(e.message));throw Error("Failed to access MIDI: Unknown error")}}setupDeviceListeners(){this.midiAccess&&(this.midiAccess.onstatechange=e=>{let t=e.port;t&&("output"===t.type||"input"===t.type)&&this.scanDevices()})}scanDevices(){if(!this.midiAccess)return;this.devices.clear();let e=Array.from(this.midiAccess.inputs.values()),t=Array.from(this.midiAccess.outputs.values()),r=new Map;e.forEach(e=>{let t="".concat(e.manufacturer,"-").concat(e.name);r.has(t)||r.set(t,{id:e.id,name:e.name||"Unknown Device",manufacturer:e.manufacturer||"Unknown",state:e.state}),r.get(t).input=e}),t.forEach(e=>{let t="".concat(e.manufacturer,"-").concat(e.name);r.has(t)||r.set(t,{id:e.id,name:e.name||"Unknown Device",manufacturer:e.manufacturer||"Unknown",state:e.state}),r.get(t).output=e}),r.forEach(e=>{e.id&&this.devices.set(e.id,e)}),this.notifyListeners()}findLaunchControlXL3(){for(let e of this.devices.values())if(e.name.toLowerCase().includes("launch control xl")||e.name.toLowerCase().includes("xl3"))return e;return null}getDevices(){return Array.from(this.devices.values())}onDeviceChange(e){return this.listeners.add(e),e(this.getDevices()),()=>{this.listeners.delete(e)}}notifyListeners(){let e=this.getDevices();this.listeners.forEach(t=>t(e))}dispose(){this.listeners.clear(),this.midiAccess&&(this.midiAccess.onstatechange=null),this.midiAccess=null,this.devices.clear()}constructor(){this.midiAccess=null,this.devices=new Map,this.listeners=new Set}}function h(){let[e,t]=(0,a.useState)({isSupported:!1,isInitialized:!1,devices:[],xl3Device:null,error:null});return(0,a.useEffect)(()=>{let e="undefined"!=typeof navigator&&"requestMIDIAccess"in navigator;if(t(t=>({...t,isSupported:e})),!e)return void t(e=>({...e,error:"WebMIDI is not supported in this browser. Please use Chrome or Edge."}));let r=new x;return r.initialize().then(()=>(t(e=>({...e,isInitialized:!0,error:null})),r.onDeviceChange(e=>{let s=r.findLaunchControlXL3();t(t=>({...t,devices:e,xl3Device:s}))}))).catch(e=>{t(t=>({...t,error:e instanceof Error?e.message:"Failed to initialize MIDI"}))}),()=>{r.dispose()}},[]),e}function p(){let{isSupported:e,isInitialized:t,xl3Device:r,devices:a,error:n}=h();return e?n?(0,s.jsx)("div",{className:"bg-red-900/20 border border-red-900/50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("svg",{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-red-500 font-semibold mb-1",children:"MIDI Error"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:n})]})]})}):t?(0,s.jsx)("div",{className:"space-y-4",children:r?(0,s.jsx)("div",{className:"bg-green-900/20 border border-green-900/50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("svg",{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-green-500 font-semibold mb-1",children:"Launch Control XL 3 Connected"}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[r.name,r.manufacturer&&" by ".concat(r.manufacturer)]}),(0,s.jsxs)("div",{className:"mt-2 flex space-x-4 text-xs text-gray-500",children:[(0,s.jsxs)("span",{children:["Input: ",r.input?"✓":"✗"]}),(0,s.jsxs)("span",{children:["Output: ",r.output?"✓":"✗"]})]})]})]})}):(0,s.jsx)("div",{className:"bg-yellow-900/20 border border-yellow-900/50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("svg",{className:"w-6 h-6 text-yellow-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-yellow-500 font-semibold mb-1",children:"No Device Detected"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Launch Control XL 3 not found. Please connect your device and refresh."}),a.length>0&&(0,s.jsxs)("details",{className:"mt-3",children:[(0,s.jsxs)("summary",{className:"text-sm text-gray-500 cursor-pointer hover:text-gray-400",children:["Show ",a.length," other MIDI device",1!==a.length?"s":""]}),(0,s.jsx)("ul",{className:"mt-2 space-y-1 text-xs text-gray-500",children:a.map(e=>(0,s.jsxs)("li",{children:["• ",e.name," (",e.manufacturer,")"]},e.id))})]})]})]})})}):(0,s.jsx)("div",{className:"bg-blue-900/20 border border-blue-900/50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"}),(0,s.jsx)("span",{className:"text-blue-400",children:"Initializing MIDI..."})]})}):(0,s.jsx)("div",{className:"bg-red-900/20 border border-red-900/50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("svg",{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-red-500 font-semibold mb-1",children:"WebMIDI Not Supported"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Your browser doesn't support WebMIDI. Please use Chrome or Edge for hardware connectivity."})]})]})})}let g="xl3-web-current-mode";class f{isAvailable(){try{let e="__storage_test__";return localStorage.setItem(e,"test"),localStorage.removeItem(e),!0}catch(e){return!1}}save(e){if(!this.isAvailable())throw Error("localStorage is not available");try{let t={version:1,mode:e,savedAt:new Date().toISOString()},r=JSON.stringify(t);return localStorage.setItem(g,r),!0}catch(e){if(e instanceof Error&&"QuotaExceededError"===e.name)throw Error("Storage quota exceeded. Please export your mode and clear some space.");throw Error("Failed to save mode: ".concat(e instanceof Error?e.message:"Unknown error"))}}load(){if(!this.isAvailable())return null;try{let e=localStorage.getItem(g);if(!e)return null;let t=JSON.parse(e);if(1!==t.version)return console.warn("Storage version mismatch, clearing stored data"),this.clear(),null;return t.mode}catch(e){return console.error("Failed to load mode from storage:",e),null}}clear(){if(!this.isAvailable())return!1;try{return localStorage.removeItem(g),!0}catch(e){return!1}}getSavedAt(){if(!this.isAvailable())return null;try{let e=localStorage.getItem(g);if(!e)return null;let t=JSON.parse(e);return new Date(t.savedAt)}catch(e){return null}}getStorageSize(){if(!this.isAvailable())return 0;try{let e=localStorage.getItem(g);if(!e)return 0;return new Blob([e]).size}catch(e){return 0}}}function b(){let[e,t]=(0,a.useState)(null),[r,o]=(0,a.useState)(null),[m,x]=(0,a.useState)(0),{mode:g,isDirty:b,updateControl:v,getControlMapping:j,updateModeName:y,updateModeDescription:N,loadMode:w,markClean:k}=function(e){let[t,r]=(0,a.useState)({name:"Untitled Mode",description:"",controls:{}}),[s,n]=(0,a.useState)(!1),l=(0,a.useCallback)(e=>{r(e),n(!1)},[]),o=e=>{if("knob"===e.type){let r=e.id.match(/knob-(\d+)-(\d+)/);if(r){var t;let s=parseInt(r[1]),a=parseInt(r[2]);return(null==(t=[["SEND_A1","SEND_A2","SEND_A3","SEND_A4","SEND_A5","SEND_A6","SEND_A7","SEND_A8"],["SEND_B1","SEND_B2","SEND_B3","SEND_B4","SEND_B5","SEND_B6","SEND_B7","SEND_B8"],["PAN1","PAN2","PAN3","PAN4","PAN5","PAN6","PAN7","PAN8"]][s-1])?void 0:t[a-1])||e.id}}else if("fader"===e.type){let t=e.id.match(/fader-(\d+)/);if(t)return"FADER".concat(t[1])}else if("button"===e.type){let t=e.id.match(/fader-btn-(\d+)/);if(t)return"FOCUS".concat(t[1])}return e.id},i=(0,a.useCallback)((e,t)=>{let s=o(e);r(r=>{let a=r.controls[s]||{type:e.type,channel:e.channel,cc:e.ccNumber,min:0,max:127,behaviour:"absolute"};return{...r,controls:{...r.controls,[s]:{...a,...t}}}}),n(!0)},[]),c=(0,a.useCallback)(e=>{let r=o(e);return t.controls[r]||null},[t]),d=(0,a.useCallback)(e=>{r(t=>({...t,name:e})),n(!0)},[]),m=(0,a.useCallback)(e=>{r(t=>({...t,description:e})),n(!0)},[]),u=(0,a.useCallback)(()=>{r({name:"Untitled Mode",description:"",controls:{}}),n(!1)},[]),x=(0,a.useCallback)(()=>JSON.stringify(t,null,2),[t]);return{mode:t,isDirty:s,updateControl:i,getControlMapping:c,updateModeName:d,updateModeDescription:m,resetMode:u,exportMode:x,importMode:(0,a.useCallback)(e=>{try{let t=JSON.parse(e);if(t.name&&"object"==typeof t.controls)return r(t),n(!0),!0;return!1}catch(e){return!1}},[]),loadMode:l,markClean:(0,a.useCallback)(()=>{n(!1)},[])}}(),{xl3Device:C}=h(),{saveToStorage:S,clearStorage:M,getSavedAt:D,getStorageSize:L}=function(e,t,r){let s=(0,a.useRef)(new f),n=(0,a.useRef)(void 0),l=(0,a.useRef)(""),o=(0,a.useCallback)(()=>{var t,a;try{let a=JSON.stringify(e);if(a===l.current)return;s.current.save(e),l.current=a,null==(t=r.onSaveSuccess)||t.call(r)}catch(e){null==(a=r.onSaveError)||a.call(r,e instanceof Error?e:Error("Failed to save"))}},[e,r]),i=(0,a.useCallback)(()=>{var e,t;try{let t=s.current.load();t&&(l.current=JSON.stringify(t),null==(e=r.onLoadSuccess)||e.call(r,t))}catch(e){null==(t=r.onLoadError)||t.call(r,e instanceof Error?e:Error("Failed to load"))}},[r]),c=(0,a.useCallback)(()=>{s.current.clear(),l.current=""},[]);return(0,a.useEffect)(()=>{i()},[i]),(0,a.useEffect)(()=>{if(r.autoSave&&t)return n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{o()},2e3),()=>{n.current&&clearTimeout(n.current)}},[e,t,r.autoSave,o]),{saveToStorage:o,loadFromStorage:i,clearStorage:c,getSavedAt:()=>s.current.getSavedAt(),getStorageSize:()=>s.current.getStorageSize()}}(g,b,{autoSave:!0,onLoadSuccess:e=>{var t,r;w(e),o(null!=(r=null==(t=D())?void 0:t.getTime())?r:null),x(L())},onSaveSuccess:()=>{k(),o(Date.now()),x(L())},onSaveError:e=>{console.error("Save error:",e)}}),E=e?j(e):null;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Launch Control XL 3 Editor"}),(0,s.jsxs)("p",{className:"text-gray-400",children:[g.name,b&&(0,s.jsx)("span",{className:"text-yellow-500 ml-2",children:"●"})]})]}),(0,s.jsx)(p,{}),(0,s.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"xl:col-span-2 space-y-6",children:[(0,s.jsx)(n,{selectedControl:e,onControlSelect:e=>{t(e)}}),(0,s.jsx)(i,{mode:g,device:C,isDirty:b}),(0,s.jsx)(u,{mode:g,onImport:e=>{w(e),o(null),x(0)}})]}),(0,s.jsxs)("div",{className:"xl:col-span-1 space-y-6",children:[(0,s.jsx)(c,{mode:g,onNameChange:y,onDescriptionChange:N}),(0,s.jsx)(d,{isDirty:b,lastSaved:r,storageSize:m,onManualSave:()=>{S()},onClear:()=>{confirm("Clear saved mode? This cannot be undone.")&&(M(),o(null),x(0))}}),(0,s.jsx)(l,{selectedControl:e,mapping:E,onMappingChange:t=>{e&&v(e,t)}})]})]}),e&&(0,s.jsxs)("div",{className:"text-center text-sm text-gray-500",children:["Selected: ",(0,s.jsx)("span",{className:"font-mono text-blue-400",children:e.label})," ","(CC: ",e.ccNumber,", Channel: ",e.channel,")"]})]})}},5840:(e,t,r)=>{Promise.resolve().then(r.bind(r,5689))}},e=>{e.O(0,[437,59,358],()=>e(e.s=5840)),_N_E=e.O()}]);