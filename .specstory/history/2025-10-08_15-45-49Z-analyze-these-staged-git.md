<!-- Generated by SpecStory -->

# Supabase Auth Implementation for xl3-web Project (2025-10-08 15:45:49Z)

<!-- Claude Code Session 06bd48f9-c9c3-43a8-a05b-d885b2bb84b3 (2025-10-08_15-45-49Z) -->

_**User**_

Analyze these staged git changes and output ONLY a single-line conventional commit message (type(scope): description). No explanations.
diff --git a/.gitignore b/.gitignore
index a1b8310..b8e06bd 100644
--- a/.gitignore
+++ b/.gitignore
@@ -34,3 +34,4 @@ playwright-report
 .playwright-mcp/
 /playwright-report/
 /.playwright-mcp/
+.env*
diff --git a/docs/1.0/authentication/implementation/workplan.md b/docs/1.0/authentication/implementation/workplan.md
index e0446a2..41590f3 100644
--- a/docs/1.0/authentication/implementation/workplan.md
+++ b/docs/1.0/authentication/implementation/workplan.md
@@ -1,24 +1,48 @@
 # Authentication Module Implementation Workplan
 
-**Version:** 1.2
+**Version:** 1.3
 **Date:** 2025-10-08
-**Status:** Planning
+**Status:** Implementation Complete (Deployment Pending)
 **Target:** Google OAuth-only authentication with Supabase
 
+## Implementation Status
+
+### ✅ Completed Tasks
+
+- ✅ Supabase client setup with PKCE flow
+- ✅ TypeScript types for auth state and session
+- ✅ AuthContext with Google OAuth provider
+- ✅ API client with automatic token injection
+- ✅ Login page with Google sign-in
+- ✅ Auth callback page with loading states
+- ✅ Protected route component with redirect logic
+- ✅ User profile component with sign-out
+- ✅ App.tsx route integration
+- ✅ Layout.tsx integration with UserProfile
+
+### ⏳ Pending Tasks
+
+- ⏳ Supabase project setup (user needs to configure credentials)
+- ⏳ E2E testing (OAuth flow, session management)
+- ⏳ Netlify deployment configuration (functions, environment variables)
+
+---
+
 ## Table of Contents
 
 1. [Architecture Overview](#1-architecture-overview)
-2. [Technical Design](#2-technical-design)
-3. [Implementation Steps](#3-implementation-steps)
-4. [File Structure](#4-file-structure)
-5. [Code Specifications](#5-code-specifications)
-6. [Testing Strategy](#6-testing-strategy)
-7. [Security Checklist](#7-security-checklist)
-8. [Integration Points](#8-integration-points)
-9. [Development Timeline](#9-development-timeline)
-10. [Acceptance Criteria](#10-acceptance-criteria)
-11. [Security Architecture](#11-security-architecture)
-12. [Appendices](#appendices)
+2. [Deployment Architecture](#2-deployment-architecture)
+3. [Technical Design](#3-technical-design)
+4. [Implementation Steps](#4-implementation-steps)
+5. [File Structure](#5-file-structure)
+6. [Code Specifications](#6-code-specifications)
+7. [Testing Strategy](#7-testing-strategy)
+8. [Security Checklist](#8-security-checklist)
+9. [Integration Points](#9-integration-points)
+10. [Development Timeline](#10-development-timeline)
+11. [Acceptance Criteria](#11-acceptance-criteria)
+12. [Security Architecture](#12-security-architecture)
+13. [Appendices](#appendices)
 
 ---
 
@@ -131,9 +155,198 @@
 
 ---
 
-## 2. Technical Design
+## 2. Deployment Architecture
+
+### 2.1 Platform Overview
+
+This application uses a modern serverless architecture with clear separation of concerns:
+
+**Frontend Hosting:**
+- **Platform:** Netlify
+- **Static Assets:** Vite-built React SPA
+- **CDN:** Global edge network for optimal performance
+- **HTTPS:** Automatic SSL/TLS certificates
+- **Build:** Triggered automatically on git push
+
+**Backend Services:**
+- **Authentication:** Supabase Auth (OAuth, JWT management)
+- **Database:** Supabase PostgreSQL with Row-Level Security
+- **Storage:** Supabase Storage (future use for mode attachments)
+- **Custom Backend Logic:** Netlify Functions (serverless)
+
+### 2.2 Netlify Functions Architecture
+
+**What are Netlify Functions?**
+- Serverless functions deployed alongside your static site
+- Run on AWS Lambda infrastructure
+- Automatically scaled and managed by Netlify
+- Accessed via `/.netlify/functions/function-name` endpoints
+
+**When to Use Netlify Functions:**
+- API key protection (keep secrets server-side)
+- Complex data processing not suitable for client-side
+- Webhook handlers (GitHub, Stripe, etc.)
+- Third-party API proxying
+- Server-side rendering (SSR) if needed
+
+**When NOT to Use Netlify Functions (Use Supabase Directly):**
+- Authentication (Supabase handles this 100%)
+- Database CRUD operations (Supabase RLS policies protect data)
+- File uploads to Supabase Storage
+- Real-time subscriptions
+
+### 2.3 API Client Design
+
+The `api-client.ts` is designed for **future Netlify Functions**, not for Supabase:
+
+```typescript
+// Current: api-client.ts exists but is NOT used for auth
+// Auth flow: React App → Supabase directly
+// No custom backend needed for authentication
+
+// Future: api-client.ts will connect to Netlify Functions
+// Example use case: Proxying third-party APIs with secrets
+const response = await apiClient.get('/.netlify/functions/external-api');
+```
+
+**API Client Features:**
+- Automatic JWT injection from Supabase session
+- Token refresh on 401 responses
+- Timeout handling
+- Error normalization
+
+**Netlify Functions Example:**
+
+```typescript
+// netlify/functions/external-api.ts
+import { Handler } from '@netlify/functions';
+import { createClient } from '@supabase/supabase-js';
+
+export const handler: Handler = async (event) => {
+  // Verify auth token
+  const token = event.headers.authorization?.replace('Bearer ', '');
+  if (!token) {
+    return { statusCode: 401, body: 'Unauthorized' };
+  }
+
+  // Verify token with Supabase
+  const supabase = createClient(
+    process.env.SUPABASE_URL!,
+    process.env.SUPABASE_ANON_KEY!
+  );
+  const { data: { user }, error } = await supabase.auth.getUser(token);
+
+  if (error || !user) {
+    return { statusCode: 401, body: 'Invalid token' };
+  }
+
+  // Call external API with server-side secret
+  const response = await fetch('https://api.example.com/data', {
+    headers: {
+      'Authorization': `Bearer ${process.env.EXTERNAL_API_SECRET}`,
+    },
+  });
+
+  const data = await response.json();
+
+  return {
+    statusCode: 200,
+    body: JSON.stringify(data),
+  };
+};
+```
+
+### 2.4 Deployment Configuration
+
+**Netlify Build Settings:**
+
+```toml
+# netlify.toml
+[build]
+  command = "pnpm run build"
+  publish = "dist"
+  functions = "netlify/functions"
+
+[build.environment]
+  NODE_VERSION = "20"
+
+[[redirects]]
+  from = "/*"
+  to = "/index.html"
+  status = 200
+
+[context.production.environment]
+  VITE_SUPABASE_URL = "https://your-project.supabase.co"
+  # Note: VITE_SUPABASE_ANON_KEY is safe to expose (public key)
+  VITE_SUPABASE_ANON_KEY = "your-anon-key"
+  # Note: Never expose service_role key in VITE_ variables!
+
+[functions]
+  node_bundler = "esbuild"
+```
+
+**Environment Variables:**
+
+```bash
+# Netlify Dashboard: Site Settings → Environment Variables
+
+# Frontend (VITE_ prefix = exposed to client)
+VITE_SUPABASE_URL=https://your-project.supabase.co
+VITE_SUPABASE_ANON_KEY=your-anon-key-here
+
+# Backend Functions (NOT exposed to client)
+SUPABASE_URL=https://your-project.supabase.co
+SUPABASE_SERVICE_ROLE_KEY=your-service-role-key  # NEVER expose in VITE_!
+EXTERNAL_API_SECRET=your-secret-key
+```
+
+### 2.5 Authentication Flow (No Custom Backend)
+
+**Current Implementation:**
+```
+User → React App → Supabase Auth API → OAuth Provider → Callback → Supabase → React App
+```
+
+**No Netlify Functions involved in auth flow:**
+- Supabase handles OAuth redirects
+- Supabase issues JWT tokens
+- Supabase validates tokens on every database request
+- Row-Level Security policies enforce authorization
+
+**api-client.ts Role:**
+- Currently exists but NOT used for authentication
+- Ready for future Netlify Functions (webhooks, API proxies, etc.)
+- Automatically includes Supabase JWT in requests to Netlify Functions
+- Handles token refresh transparently
+
+### 2.6 Future Netlify Functions Use Cases
+
+**Example: Webhook Handler**
+```typescript
+// netlify/functions/github-webhook.ts
+// Endpoint: /.netlify/functions/github-webhook
+// Use case: Trigger actions based on GitHub events
+```
+
+**Example: External API Proxy**
+```typescript
+// netlify/functions/openai-proxy.ts
+// Endpoint: /.netlify/functions/openai-proxy
+// Use case: Call OpenAI API with server-side secret
+```
+
+**Example: Complex Data Processing**
+```typescript
+// netlify/functions/generate-report.ts
+// Endpoint: /.netlify/functions/generate-report
+// Use case: Generate PDF reports server-side
+```
+
+---
+
+## 3. Technical Design
 
-### 2.1 Supabase Configuration
+### 3.1 Supabase Configuration
 
 #### Project Setup
 
@@ -174,7 +387,7 @@ VITE_AUTH_REDIRECT_URL=http://localhost:8080/auth/callback
 VITE_APP_URL=http://localhost:8080
 ```
 
-### 2.2 React Context Architecture
+### 3.2 React Context Architecture
 
 #### AuthContext Structure
 
@@ -265,7 +478,7 @@ export function useAuth() {
 }
 ```
 
-### 2.3 Protected Routes Implementation
+### 3.3 Protected Routes Implementation
 
 ```typescript
 // src/components/auth/ProtectedRoute.tsx
@@ -307,7 +520,7 @@ export function ProtectedRoute({
 }
 ```
 
-### 2.4 Session Refresh Logic
+### 3.4 Session Refresh Logic
 
 ```typescript
 // src/lib/api-client.ts
@@ -429,24 +642,25 @@ export class ApiClient {
   }
 }
 
+// For future Netlify Functions - NOT used for auth
 export const apiClient = new ApiClient({
-  baseUrl: import.meta.env.VITE_API_BASE_URL || 'http://localhost:3000/api/v1',
+  baseUrl: '/.netlify/functions',
 });
 ```
 
 ---
 
-## 3. Implementation Steps
+## 4. Implementation Steps
 
 ### Phase 1: Environment Setup (2-3 hours)
 
-#### 3.1 Install Dependencies
+#### 4.1 Install Dependencies
 
 ```bash
 pnpm add @supabase/supabase-js
 ```
 
-#### 3.2 Create Supabase Project
+#### 4.2 Create Supabase Project
 
 1. Go to https://supabase.com
 2. Create new project: "xl3-web-auth"
@@ -456,7 +670,7 @@ pnpm add @supabase/supabase-js
    - **Disable** Email/Password authentication
    - **Disable** GitHub OAuth (keeping it simple)
 
-#### 3.3 Configure OAuth Providers
+#### 4.3 Configure OAuth Providers
 
 **Google OAuth:**
 1. Go to [Google Cloud Console](https://console.cloud.google.com/)
@@ -467,30 +681,29 @@ pnpm add @supabase/supabase-js
 6. In Supabase: Authentication → Providers → Google → Enable and paste credentials
 7. Test the OAuth flow to ensure it works
 
-#### 3.4 Environment Variables
+#### 4.4 Environment Variables
 
 Create `.env` file:
 
 ```bash
 VITE_SUPABASE_URL=https://your-project.supabase.co
 VITE_SUPABASE_ANON_KEY=your-anon-key
-VITE_API_BASE_URL=https://your-project.supabase.co
 ```
 
 ### Phase 2: Core Authentication (4-6 hours)
 
-#### 3.5 Create Supabase Client
+#### 4.5 Create Supabase Client
 
 - **File:** `src/lib/supabase.ts`
 - Initialize Supabase client with PKCE flow
 - Export singleton instance
 
-#### 3.6 Create Type Definitions
+#### 4.6 Create Type Definitions
 
 - **File:** `src/types/auth.ts`
 - Define User, Session, AuthError interfaces
 
-#### 3.7 Create AuthContext
+#### 4.7 Create AuthContext
 
 - **File:** `src/contexts/AuthContext.tsx`
 - Implement AuthProvider component
@@ -498,14 +711,14 @@ VITE_API_BASE_URL=https://your-project.supabase.co
 - Handle session initialization
 - Listen for auth state changes
 
-#### 3.8 Integrate AuthProvider
+#### 4.8 Integrate AuthProvider
 
 - **File:** `src/main.tsx`
 - Wrap app with AuthProvider
 
 ### Phase 3: UI Components (3-4 hours)
 
-#### 3.9 Create Login Page
+#### 4.9 Create Login Page
 
 - **File:** `src/pages/Login.tsx`
 - Single "Sign in with Google" button
@@ -514,14 +727,14 @@ VITE_API_BASE_URL=https://your-project.supabase.co
 - Minimal, clean UI
 - Show loading state during OAuth redirect
 
-#### 3.10 Create Auth Callback
+#### 4.10 Create Auth Callback
 
 - **File:** `src/pages/AuthCallback.tsx`
 - Handle OAuth redirect
 - Show loading state
 - Handle errors
 
-#### 3.11 Create User Profile Component
+#### 4.11 Create User Profile Component
 
 - **File:** `src/components/auth/UserProfile.tsx`
 - Avatar dropdown
@@ -530,14 +743,14 @@ VITE_API_BASE_URL=https://your-project.supabase.co
 
 ### Phase 4: Protected Routes (2-3 hours)
 
-#### 3.13 Create ProtectedRoute Component
+#### 4.13 Create ProtectedRoute Component
 
 - **File:** `src/components/auth/ProtectedRoute.tsx`
 - Check authentication
 - Show loading state
 - Redirect if unauthenticated
 
-#### 3.14 Update Router
+#### 4.14 Update Router
 
 - **File:** `src/App.tsx`
 - Wrap protected routes
@@ -545,25 +758,25 @@ VITE_API_BASE_URL=https://your-project.supabase.co
 
 ### Phase 5: Session Management (3-4 hours)
 
-#### 3.15 Create API Client
+#### 4.15 Create API Client
 
 - **File:** `src/lib/api-client.ts`
 - Auto-inject auth token
 - Handle 401 with refresh
 - Implement timeout
 
-#### 3.16 Update CloudStorageService
+#### 4.16 Update CloudStorageService
 
 - **File:** `src/lib/services/cloud-storage.ts`
 - Use ApiClient for requests
 
 ### Phase 6: Testing (4-6 hours)
 
-See Section 6 for detailed testing strategy.
+See Section 7 for detailed testing strategy.
 
 ---
 
-## 4. File Structure
+## 5. File Structure
 
 ### New Files to Create
 
@@ -571,7 +784,7 @@ See Section 6 for detailed testing strategy.
 src/
 ├── lib/
 │   ├── supabase.ts                    # Supabase client
-│   ├── api-client.ts                  # HTTP client with auth
+│   ├── api-client.ts                  # HTTP client with auth (for Netlify Functions)
 │   └── errors.ts                      # Auth error classes
 │
 ├── contexts/
@@ -612,9 +825,9 @@ src/
 
 ---
 
-## 5. Code Specifications
+## 6. Code Specifications
 
-### 5.1 Interface Definitions
+### 6.1 Interface Definitions
 
 ```typescript
 // User (from @supabase/supabase-js)
@@ -650,7 +863,7 @@ export interface AuthState {
 }
 ```
 
-### 5.2 Hook APIs
+### 6.2 Hook APIs
 
 ```typescript
 // useAuth
@@ -678,7 +891,7 @@ export function useRequireAuth(redirectTo: string = '/login') {
 }
 ```
 
-### 5.3 Component APIs
+### 6.3 Component APIs
 
 ```typescript
 // ProtectedRoute
@@ -695,7 +908,7 @@ interface UserProfileProps {
 }
 ```
 
-### 5.4 Error Types
+### 6.4 Error Types
 
 ```typescript
 export enum AuthErrorCode {
@@ -715,9 +928,9 @@ export interface AuthError {
 
 ---
 
-## 6. Testing Strategy
+## 7. Testing Strategy
 
-### 6.1 Unit Tests
+### 7.1 Unit Tests
 
 ```typescript
 // src/contexts/__tests__/AuthContext.test.tsx
@@ -741,7 +954,7 @@ describe('AuthContext', () => {
 });
 ```
 
-### 6.2 Integration Tests
+### 7.2 Integration Tests
 
 ```typescript
 // tests/e2e/auth.spec.ts
@@ -762,7 +975,7 @@ test('should redirect to OAuth provider on sign in', async ({ page, context }) =
 });
 ```
 
-### 6.3 Coverage Requirements
+### 7.3 Coverage Requirements
 
 - AuthContext: 90%+
 - API Client: 85%+
@@ -771,34 +984,34 @@ test('should redirect to OAuth provider on sign in', async ({ page, context }) =
 
 ---
 
-## 7. Security Checklist
+## 8. Security Checklist
 
-### 7.1 Token Storage
+### 8.1 Token Storage
 
 - [x] Tokens managed by Supabase (secure)
 - [x] No tokens in URL parameters
 - [x] Session cleared on sign out
 - [x] Tokens not exposed in logs (production)
 
-### 7.2 CSRF Protection
+### 8.2 CSRF Protection
 
 - [x] OAuth state parameter validated
 - [x] PKCE flow enabled
 - [x] Origin validation
 
-### 7.3 XSS Prevention
+### 8.3 XSS Prevention
 
 - [x] React auto-escaping
 - [x] No dangerouslySetInnerHTML with user data
 - [x] CSP headers configured
 
-### 7.4 Redirect Safety
+### 8.4 Redirect Safety
 
 - [x] Whitelist redirect URLs
 - [x] Validate redirect parameters
 - [x] Never use untrusted URLs
 
-### 7.5 Rate Limiting
+### 8.5 Rate Limiting
 
 - [x] Supabase rate limiting
 - [x] Client-side debouncing
@@ -806,9 +1019,9 @@ test('should redirect to OAuth provider on sign in', async ({ page, context }) =
 
 ---
 
-## 8. Integration Points
+## 9. Integration Points
 
-### 8.1 CloudStorageService Integration
+### 9.1 CloudStorageService Integration
 
 ```typescript
 // Update CloudStorageService to use authenticated requests
@@ -821,7 +1034,7 @@ export class CloudStorageService {
 }
 ```
 
-### 8.2 React Query Integration
+### 9.2 React Query Integration
 
 ```typescript
 export function useUserModes() {
@@ -837,7 +1050,7 @@ export function useUserModes() {
 
 ---
 
-## 9. Development Timeline
+## 10. Development Timeline
 
 ### Total: 10-15 hours (Google OAuth-only)
 
@@ -854,18 +1067,18 @@ export function useUserModes() {
 
 ---
 
-## 10. Acceptance Criteria
+## 11. Acceptance Criteria
 
 ### Feature Completion
 
-- [ ] Google OAuth sign in
-- [ ] Session persistence across page reloads
-- [ ] Protected routes with redirect to login
-- [ ] Auto token refresh on expiry
-- [ ] User profile UI with Google avatar/email
-- [ ] Sign out functionality
-- [ ] OAuth callback handling with loading state
-- [ ] Error handling for OAuth failures
+- [x] Google OAuth sign in
+- [x] Session persistence across page reloads
+- [x] Protected routes with redirect to login
+- [x] Auto token refresh on expiry
+- [x] User profile UI with Google avatar/email
+- [x] Sign out functionality
+- [x] OAuth callback handling with loading state
+- [x] Error handling for OAuth failures
 
 ### Testing
 
@@ -875,16 +1088,16 @@ export function useUserModes() {
 
 ### Security
 
-- [ ] PKCE flow enabled
-- [ ] Rate limiting active
+- [x] PKCE flow enabled
+- [x] Rate limiting active
 - [ ] CSP headers configured
 - [ ] No security vulnerabilities
 
 ---
 
-## 11. Security Architecture
+## 12. Security Architecture
 
-### 11.1 Threat Model
+### 12.1 Threat Model
 
 #### OWASP Top 10 Mapping
 
@@ -911,7 +1124,7 @@ export function useUserModes() {
 **A05:2021 – Security Misconfiguration**
 - **Risk:** Default credentials, exposed error messages, missing security headers
 - **Mitigation:** CSP headers, secure Supabase config, generic error messages
-- **Implementation:** See section 11.5 for secure coding guidelines
+- **Implementation:** See section 12.5 for secure coding guidelines
 
 **A06:2021 – Vulnerable and Outdated Components**
 - **Risk:** Old dependencies with known vulnerabilities
@@ -921,7 +1134,7 @@ export function useUserModes() {
 **A07:2021 – Identification and Authentication Failures**
 - **Risk:** Session fixation, OAuth flow manipulation, weak session management
 - **Mitigation:** PKCE flow, session rotation, secure OAuth implementation
-- **Implementation:** See section 11.3 for OAuth security controls
+- **Implementation:** See section 12.3 for OAuth security controls
 
 **A08:2021 – Software and Data Integrity Failures**
 - **Risk:** Unsigned JWTs, tampered session data
@@ -936,7 +1149,7 @@ export function useUserModes() {
 **A10:2021 – Server-Side Request Forgery (SSRF)**
 - **Risk:** Attacker-controlled URLs in OAuth redirects
 - **Mitigation:** Whitelist allowed redirect URLs, validate all redirects
-- **Implementation:** See section 7.4 for redirect safety
+- **Implementation:** See section 8.4 for redirect safety
 
 #### React SPA-Specific Vulnerabilities
 
@@ -960,7 +1173,7 @@ export function useUserModes() {
 - **Mitigation:** Always enforce authorization server-side with RLS
 - **Impact:** Critical - unauthorized data access
 
-### 11.2 Security Requirements
+### 12.2 Security Requirements
 
 #### Token Storage
 
@@ -1042,7 +1255,7 @@ export default defineConfig({
 - `HttpOnly` - not accessible via JavaScript (prevents XSS)
 - `SameSite=Strict` - prevents CSRF
 
-### 11.3 Authentication Security Controls
+### 12.3 Authentication Security Controls
 
 #### Google OAuth-Only Benefits
 
@@ -1107,7 +1320,7 @@ const { data, error } = await supabase.auth.signInWithOAuth({
 // Old session is invalidated, new session created after OAuth callback
 ```
 
-### 11.4 Authorization Security
+### 12.4 Authorization Security
 
 #### Row-Level Security (RLS) Policy Audit
 
@@ -1188,7 +1401,7 @@ async request<T>(endpoint: string, options: RequestInit = {}): Promise<T> {
 }
 ```
 
-### 11.5 Secure Coding Guidelines
+### 12.5 Secure Coding Guidelines
 
 #### Input Validation
 
@@ -1373,7 +1586,7 @@ try {
 }
 ```
 
-### 11.6 Security Testing Requirements
+### 12.6 Security Testing Requirements
 
 #### Penetration Testing Checklist
 
@@ -1583,7 +1796,7 @@ jobs:
           target: 'http://localhost:8080'
 ```
 
-### 11.7 Incident Response
+### 12.7 Incident Response
 
 #### Token Revocation Procedures
 
@@ -1813,7 +2026,7 @@ CREATE RULE security_incidents_no_delete AS
   DO INSTEAD NOTHING;
 ```
 
-### 11.8 Compliance Considerations
+### 12.8 Compliance Considerations
 
 #### GDPR Requirements
 
@@ -2048,7 +2261,7 @@ export function CookieConsent() {
 
 ---
 
-## Appendices
+## 13. Appendices
 
 ### Appendix A: Supabase Dashboard Configuration
 
@@ -2081,7 +2294,6 @@ VITE_SUPABASE_URL=https://your-project.supabase.co
 VITE_SUPABASE_ANON_KEY=your-anon-key-here
 
 # Optional
-VITE_API_BASE_URL=https://your-project.supabase.co
 VITE_APP_URL=http://localhost:8080
 VITE_AUTH_REDIRECT_URL=http://localhost:8080/auth/callback
 ```
diff --git a/package.json b/package.json
index c88c37b..052ba41 100644
--- a/package.json
+++ b/package.json
@@ -45,6 +45,7 @@
     "@radix-ui/react-toggle": "^1.1.9",
     "@radix-ui/react-toggle-group": "^1.1.10",
     "@radix-ui/react-tooltip": "^1.2.7",
+    "@supabase/supabase-js": "^2.74.0",
     "@tanstack/react-query": "^5.83.0",
     "class-variance-authority": "^0.7.1",
     "clsx": "^2.1.1",
diff --git a/pnpm-lock.yaml b/pnpm-lock.yaml
index efba36c..68b254e 100644
--- a/pnpm-lock.yaml
+++ b/pnpm-lock.yaml
@@ -95,6 +95,9 @@ importers:
       '@radix-ui/react-tooltip':
         specifier: ^1.2.7
         version: 1.2.8(@types/react-dom@18.3.7(@types/react@18.3.24))(@types/react@18.3.24)(react-dom@18.3.1(react@18.3.1))(react@18.3.1)
+      '@supabase/supabase-js':
+        specifier: ^2.74.0
+        version: 2.74.0
       '@tanstack/react-query':
         specifier: ^5.83.0
         version: 5.90.2(react@18.3.1)
@@ -1429,6 +1432,28 @@ packages:
     cpu: [x64]
     os: [win32]
 
+  '@supabase/auth-js@2.74.0':
+    resolution: {integrity: sha512-EJYDxYhBCOS40VJvfQ5zSjo8Ku7JbTICLTcmXt4xHMQZt4IumpRfHg11exXI9uZ6G7fhsQlNgbzDhFN4Ni9NnA==}
+
+  '@supabase/functions-js@2.74.0':
+    resolution: {integrity: sha512-VqWYa981t7xtIFVf7LRb9meklHckbH/tqwaML5P3LgvlaZHpoSPjMCNLcquuLYiJLxnh2rio7IxLh+VlvRvSWw==}
+
+  '@supabase/node-fetch@2.6.15':
+    resolution: {integrity: sha512-1ibVeYUacxWYi9i0cf5efil6adJ9WRyZBLivgjs+AUpewx1F3xPi7gLgaASI2SmIQxPoCEjAsLAzKPgMJVgOUQ==}
+    engines: {node: 4.x || >=6.0.0}
+
+  '@supabase/postgrest-js@2.74.0':
+    resolution: {integrity: sha512-9Ypa2eS0Ib/YQClE+BhDSjx7OKjYEF6LAGjTB8X4HucdboGEwR0LZKctNfw6V0PPIAVjjzZxIlNBXGv0ypIkHw==}
+
+  '@supabase/realtime-js@2.74.0':
+    resolution: {integrity: sha512-K5VqpA4/7RO1u1nyD5ICFKzWKu58bIDcPxHY0aFA7MyWkFd0pzi/XYXeoSsAifnD9p72gPIpgxVXCQZKJg1ktQ==}
+
+  '@supabase/storage-js@2.74.0':
+    resolution: {integrity: sha512-o0cTQdMqHh4ERDLtjUp1/KGPbQoNwKRxUh6f8+KQyjC5DSmiw/r+jgFe/WHh067aW+WU8nA9Ytw9ag7OhzxEkQ==}
+
+  '@supabase/supabase-js@2.74.0':
+    resolution: {integrity: sha512-IEMM/V6gKdP+N/X31KDIczVzghDpiPWFGLNjS8Rus71KvV6y6ueLrrE/JGCHDrU+9pq5copF3iCa0YQh+9Lq9Q==}
+
   '@swc/core-darwin-arm64@1.13.19':
     resolution: {integrity: sha512-NxDyte9tCJSJ8+R62WDtqwg8eI57lubD52sHyGOfezpJBOPr36bUSGGLyO3Vod9zTGlOu2CpkuzA/2iVw92u1g==}
     engines: {node: '>=10'}
@@ -1559,6 +1584,9 @@ packages:
   '@types/node@22.18.6':
     resolution: {integrity: sha512-r8uszLPpeIWbNKtvWRt/DbVi5zbqZyj1PTmhRMqBMvDnaz1QpmSKujUtJLrqGZeoM8v72MfYggDceY4K1itzWQ==}
 
+  '@types/phoenix@1.6.6':
+    resolution: {integrity: sha512-PIzZZlEppgrpoT2QgbnDU+MMzuR6BbCjllj0bM70lWoejMeNJAxCchxnv7J3XFkI8MpygtRpzXrIlmWUBclP5A==}
+
   '@types/prop-types@15.7.15':
     resolution: {integrity: sha512-F6bEyamV9jKGAFBEmlQnesRPGOQqS2+Uwi0Em15xenOxHaf2hv6L8YCVn3rPdPJOiJfPiCnLIRyvwVaqMY3MIw==}
 
@@ -1570,6 +1598,9 @@ packages:
   '@types/react@18.3.24':
     resolution: {integrity: sha512-0dLEBsA1kI3OezMBF8nSsb7Nk19ZnsyE1LLhB8r27KbgU5H4pvuqZLdtE+aUkJVoXgTVuA+iLIwmZ0TuK4tx6A==}
 
+  '@types/ws@8.18.1':
+    resolution: {integrity: sha512-ThVF6DCVhA8kUGy+aazFQ4kXQ7E1Ty7A3ypFOe0IcJV8O/M511G99AW24irKrW56Wt44yG9+ij8FaqoBGkuBXg==}
+
   '@typescript-eslint/eslint-plugin@8.44.1':
     resolution: {integrity: sha512-molgphGqOBT7t4YKCSkbasmu1tb1MgrZ2szGzHbclF7PNmOkSTQVHy+2jXOSnxvR3+Xe1yySHFZoqMpz3TfQsw==}
     engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}
@@ -2921,6 +2952,9 @@ packages:
     resolution: {integrity: sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==}
     engines: {node: '>=8.0'}
 
+  tr46@0.0.3:
+    resolution: {integrity: sha512-N3WMsuqV66lT30CrXNbEjx4GEwlow3v6rr4mCcv6prnfwhS01rkgyFdjPNBYd9br7LpXV1+Emh01fHnq2Gdgrw==}
+
   ts-api-utils@2.1.0:
     resolution: {integrity: sha512-CUgTZL1irw8u29bzrOD/nH85jqyc74D6SshFgujOIA7osm2Rz7dYH77agkx7H4FBNxDq7Cjf+IjaX/8zwFW+ZQ==}
     engines: {node: '>=18.12'}
@@ -3036,10 +3070,16 @@ packages:
   wcwidth@1.0.1:
     resolution: {integrity: sha512-XHPEwS0q6TaxcvG85+8EYkbiCux2XtWG2mkc47Ng2A77BQu9+DqIOJldST4HgPkuea7dvKSj5VgX3P1d4rW8Tg==}
 
+  webidl-conversions@3.0.1:
+    resolution: {integrity: sha512-2JAn3z8AR6rjK8Sm8orRC0h/bcl/DqL7tRPdGZ4I1CjdF+EaMLmYxBHyXuKL849eucPFhvBoxMsflfOb8kxaeQ==}
+
   webmidi@3.1.12:
     resolution: {integrity: sha512-X1lACggXm2BxuAPdx5wleh8S2kygduHbtR2ti5sGhivLkX6Muv/sLAYmPuIaNLOUddyxr71+3tsq8m5dKXoT4A==}
     engines: {node: '>=8.5'}
 
+  whatwg-url@5.0.0:
+    resolution: {integrity: sha512-saE57nupxk6v3HY35+jzBwYa0rKSy0XR8JSxZPwgLr7ys0IBzhGviA1/TUGJLmSVqs8pb9AnvICXEuOHLprYTw==}
+
   which@2.0.2:
     resolution: {integrity: sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==}
     engines: {node: '>= 8'}
@@ -3061,6 +3101,18 @@ packages:
     resolution: {integrity: sha512-si7QWI6zUMq56bESFvagtmzMdGOtoxfR+Sez11Mobfc7tm+VkUckk9bW2UeffTGVUbOksxmSw0AA2gs8g71NCQ==}
     engines: {node: '>=12'}
 
+  ws@8.18.3:
+    resolution: {integrity: sha512-PEIGCY5tSlUt50cqyMXfCzX+oOPqN0vuGqWzbcJ2xvnkzkq46oOpz7dQaTDBdfICb4N14+GARUDw2XV2N4tvzg==}
+    engines: {node: '>=10.0.0'}
+    peerDependencies:
+      bufferutil: ^4.0.1
+      utf-8-validate: '>=5.0.2'
+    peerDependenciesMeta:
+      bufferutil:
+        optional: true
+      utf-8-validate:
+        optional: true
+
   y18n@5.0.8:
     resolution: {integrity: sha512-0pfFzegeDWJHJIAmTLRP2DwHjdF5s7jo9tuztdQxAhINCdvS+3nGINqPd00AphqJR/0LhANUS6/+7SCb98YOfA==}
     engines: {node: '>=10'}
@@ -4151,6 +4203,48 @@ snapshots:
   '@rollup/rollup-win32-x64-msvc@4.52.2':
     optional: true
 
+  '@supabase/auth-js@2.74.0':
+    dependencies:
+      '@supabase/node-fetch': 2.6.15
+
+  '@supabase/functions-js@2.74.0':
+    dependencies:
+      '@supabase/node-fetch': 2.6.15
+
+  '@supabase/node-fetch@2.6.15':
+    dependencies:
+      whatwg-url: 5.0.0
+
+  '@supabase/postgrest-js@2.74.0':
+    dependencies:
+      '@supabase/node-fetch': 2.6.15
+
+  '@supabase/realtime-js@2.74.0':
+    dependencies:
+      '@supabase/node-fetch': 2.6.15
+      '@types/phoenix': 1.6.6
+      '@types/ws': 8.18.1
+      ws: 8.18.3
+    transitivePeerDependencies:
+      - bufferutil
+      - utf-8-validate
+
+  '@supabase/storage-js@2.74.0':
+    dependencies:
+      '@supabase/node-fetch': 2.6.15
+
+  '@supabase/supabase-js@2.74.0':
+    dependencies:
+      '@supabase/auth-js': 2.74.0
+      '@supabase/functions-js': 2.74.0
+      '@supabase/node-fetch': 2.6.15
+      '@supabase/postgrest-js': 2.74.0
+      '@supabase/realtime-js': 2.74.0
+      '@supabase/storage-js': 2.74.0
+    transitivePeerDependencies:
+      - bufferutil
+      - utf-8-validate
+
   '@swc/core-darwin-arm64@1.13.19':
     optional: true
 
@@ -4251,6 +4345,8 @@ snapshots:
     dependencies:
       undici-types: 6.21.0
 
+  '@types/phoenix@1.6.6': {}
+
   '@types/prop-types@15.7.15': {}
 
   '@types/react-dom@18.3.7(@types/react@18.3.24)':
@@ -4262,6 +4358,10 @@ snapshots:
       '@types/prop-types': 15.7.15
       csstype: 3.1.3
 
+  '@types/ws@8.18.1':
+    dependencies:
+      '@types/node': 22.18.6
+
   '@typescript-eslint/eslint-plugin@8.44.1(@typescript-eslint/parser@8.44.1(eslint@9.36.0(jiti@2.6.0))(typescript@5.9.2))(eslint@9.36.0(jiti@2.6.0))(typescript@5.9.2)':
     dependencies:
       '@eslint-community/regexpp': 4.12.1
@@ -5674,6 +5774,8 @@ snapshots:
     dependencies:
       is-number: 7.0.0
 
+  tr46@0.0.3: {}
+
   ts-api-utils@2.1.0(typescript@5.9.2):
     dependencies:
       typescript: 5.9.2
@@ -5774,12 +5876,19 @@ snapshots:
     dependencies:
       defaults: 1.0.4
 
+  webidl-conversions@3.0.1: {}
+
   webmidi@3.1.12:
     dependencies:
       djipevents: 2.0.7
     optionalDependencies:
       jzz: 1.9.6
 
+  whatwg-url@5.0.0:
+    dependencies:
+      tr46: 0.0.3
+      webidl-conversions: 3.0.1
+
   which@2.0.2:
     dependencies:
       isexe: 2.0.0
@@ -5804,6 +5913,8 @@ snapshots:
       string-width: 5.1.2
       strip-ansi: 7.1.2
 
+  ws@8.18.3: {}
+
   y18n@5.0.8: {}
 
   yaml@2.8.1: {}
diff --git a/src/App.tsx b/src/App.tsx
index 89df35e..8e37f9e 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -5,9 +5,12 @@ import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import { BrowserRouter, Routes, Route } from "react-router-dom";
 import { LCXL3Provider } from "@/contexts/LCXL3Context";
 import Layout from "@/components/Layout";
+import { ProtectedRoute } from "@/components/auth/ProtectedRoute";
 import Editor from "./pages/Editor";
 import Library from "./pages/Library";
 import Catalog from "./pages/Catalog";
+import { Login } from "./pages/Login";
+import { AuthCallback } from "./pages/AuthCallback";
 import NotFound from "./pages/NotFound";
 
 const queryClient = new QueryClient();
@@ -20,9 +23,15 @@ const App = () => (
         <Sonner />
         <BrowserRouter>
           <Routes>
-            <Route path="/" element={<Layout><Editor /></Layout>} />
-            <Route path="/library" element={<Layout><Library /></Layout>} />
-            <Route path="/catalog" element={<Layout><Catalog /></Layout>} />
+            {/* Authentication routes (no Layout wrapper) */}
+            <Route path="/login" element={<Login />} />
+            <Route path="/auth/callback" element={<AuthCallback />} />
+
+            {/* Protected application routes */}
+            <Route path="/" element={<ProtectedRoute><Layout><Editor /></Layout></ProtectedRoute>} />
+            <Route path="/library" element={<ProtectedRoute><Layout><Library /></Layout></ProtectedRoute>} />
+            <Route path="/catalog" element={<ProtectedRoute><Layout><Catalog /></Layout></ProtectedRoute>} />
+
             {/* ADD ALL CUSTOM ROUTES ABOVE THE CATCH-ALL "*" ROUTE */}
             <Route path="*" element={<Layout><NotFound /></Layout>} />
           </Routes>
diff --git a/src/components/Layout.tsx b/src/components/Layout.tsx
index a797e48..0d41f43 100644
--- a/src/components/Layout.tsx
+++ b/src/components/Layout.tsx
@@ -12,6 +12,7 @@ import {
   Activity
 } from "lucide-react";
 import { motion } from "framer-motion";
+import { UserProfile } from "@/components/auth/UserProfile";
 
 interface LayoutProps {
   children: ReactNode;
@@ -84,10 +85,12 @@ const Layout = ({ children }: LayoutProps) => {
                 {isConnected ? 'Connected: Launch Control XL3' : (error ? `Error: ${error}` : 'Disconnected')}
               </span>
             </Button>
-            
+
             <Button variant="ghost" size="sm">
               <Settings className="w-4 h-4" />
             </Button>
+
+            <UserProfile />
           </div>
         </div>
       </header>
diff --git a/src/components/auth/ProtectedRoute.tsx b/src/components/auth/ProtectedRoute.tsx
new file mode 100644
index 0000000..68e620d
--- /dev/null
+++ b/src/components/auth/ProtectedRoute.tsx
@@ -0,0 +1,36 @@
+import { ReactNode } from 'react';
+import { Navigate, useLocation } from 'react-router-dom';
+import { useAuth } from '@/contexts/AuthContext';
+import { Skeleton } from '@/components/ui/skeleton';
+
+interface ProtectedRouteProps {
+  children: ReactNode;
+  redirectTo?: string;
+}
+
+export function ProtectedRoute({
+  children,
+  redirectTo = '/login'
+}: ProtectedRouteProps) {
+  const { user, loading } = useAuth();
+  const location = useLocation();
+
+  if (loading) {
+    return (
+      <div className="flex items-center justify-center min-h-screen">
+        <div className="space-y-4 w-full max-w-md">
+          <Skeleton className="h-12 w-full" />
+          <Skeleton className="h-12 w-full" />
+          <Skeleton className="h-12 w-full" />
+        </div>
+      </div>
+    );
+  }
+
+  if (!user) {
+    // Save the location they were trying to access
+    return <Navigate to={redirectTo} state={{ from: location }} replace />;
+  }
+
+  return <>{children}</>;
+}
diff --git a/src/components/auth/UserProfile.tsx b/src/components/auth/UserProfile.tsx
new file mode 100644
index 0000000..7758334
--- /dev/null
+++ b/src/components/auth/UserProfile.tsx
@@ -0,0 +1,85 @@
+import { useState } from 'react';
+import { useNavigate } from 'react-router-dom';
+import { useAuth } from '@/contexts/AuthContext';
+import {
+  DropdownMenu,
+  DropdownMenuContent,
+  DropdownMenuItem,
+  DropdownMenuLabel,
+  DropdownMenuSeparator,
+  DropdownMenuTrigger,
+} from '@/components/ui/dropdown-menu';
+import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';
+import { Button } from '@/components/ui/button';
+import { LogOut, User } from 'lucide-react';
+
+export function UserProfile() {
+  const { user, signOut } = useAuth();
+  const navigate = useNavigate();
+  const [signingOut, setSigningOut] = useState(false);
+
+  if (!user) {
+    return null;
+  }
+
+  const handleSignOut = async () => {
+    setSigningOut(true);
+    try {
+      await signOut();
+      navigate('/login', { replace: true });
+    } catch (error) {
+      console.error('Sign out error:', error);
+      setSigningOut(false);
+    }
+  };
+
+  const avatarUrl = user.user_metadata?.avatar_url;
+  const fullName = user.user_metadata?.full_name || user.email;
+  const email = user.email;
+
+  // Get initials for fallback avatar
+  const getInitials = (name: string | undefined) => {
+    if (!name) return '?';
+    const parts = name.split(' ');
+    if (parts.length >= 2) {
+      return `${parts[0][0]}${parts[1][0]}`.toUpperCase();
+    }
+    return name[0].toUpperCase();
+  };
+
+  return (
+    <DropdownMenu>
+      <DropdownMenuTrigger asChild>
+        <Button variant="ghost" className="relative h-10 w-10 rounded-full">
+          <Avatar className="h-10 w-10">
+            <AvatarImage src={avatarUrl} alt={fullName || 'User avatar'} />
+            <AvatarFallback>
+              {getInitials(fullName)}
+            </AvatarFallback>
+          </Avatar>
+        </Button>
+      </DropdownMenuTrigger>
+      <DropdownMenuContent className="w-56" align="end" forceMount>
+        <DropdownMenuLabel className="font-normal">
+          <div className="flex flex-col space-y-1">
+            <p className="text-sm font-medium leading-none">{fullName}</p>
+            {email && (
+              <p className="text-xs leading-none text-muted-foreground">
+                {email}
+              </p>
+            )}
+          </div>
+        </DropdownMenuLabel>
+        <DropdownMenuSeparator />
+        <DropdownMenuItem
+          onClick={handleSignOut}
+          disabled={signingOut}
+          className="cursor-pointer"
+        >
+          <LogOut className="mr-2 h-4 w-4" />
+          <span>{signingOut ? 'Signing out...' : 'Sign out'}</span>
+        </DropdownMenuItem>
+      </DropdownMenuContent>
+    </DropdownMenu>
+  );
+}
diff --git a/src/contexts/AuthContext.tsx b/src/contexts/AuthContext.tsx
new file mode 100644
index 0000000..e52ad37
--- /dev/null
+++ b/src/contexts/AuthContext.tsx
@@ -0,0 +1,171 @@
+import { createContext, useContext, useEffect, useState } from 'react';
+import type { AuthState, User, Session } from '@/types/auth';
+import { supabase } from '@/lib/supabase';
+
+const AuthContext = createContext<AuthState | undefined>(undefined);
+
+interface AuthProviderProps {
+  children: React.ReactNode;
+}
+
+/**
+ * AuthProvider component
+ * Manages authentication state and provides auth methods to the application
+ */
+export function AuthProvider({ children }: AuthProviderProps) {
+  const [user, setUser] = useState<User | null>(null);
+  const [session, setSession] = useState<Session | null>(null);
+  const [loading, setLoading] = useState(true);
+
+  // Initialize session on mount
+  useEffect(() => {
+    let mounted = true;
+
+    async function initializeSession() {
+      try {
+        // Get initial session
+        const {
+          data: { session: initialSession },
+          error,
+        } = await supabase.auth.getSession();
+
+        if (error) {
+          throw error;
+        }
+
+        if (mounted) {
+          setSession(initialSession);
+          setUser(initialSession?.user ?? null);
+        }
+      } catch (error) {
+        console.error('Failed to initialize session:', error);
+        if (mounted) {
+          setSession(null);
+          setUser(null);
+        }
+      } finally {
+        if (mounted) {
+          setLoading(false);
+        }
+      }
+    }
+
+    initializeSession();
+
+    return () => {
+      mounted = false;
+    };
+  }, []);
+
+  // Listen for auth state changes
+  useEffect(() => {
+    const {
+      data: { subscription },
+    } = supabase.auth.onAuthStateChange((_event, currentSession) => {
+      setSession(currentSession);
+      setUser(currentSession?.user ?? null);
+      setLoading(false);
+    });
+
+    return () => {
+      subscription.unsubscribe();
+    };
+  }, []);
+
+  /**
+   * Initiate Google OAuth sign-in flow
+   */
+  const signInWithGoogle = async (): Promise<void> => {
+    try {
+      const { error } = await supabase.auth.signInWithOAuth({
+        provider: 'google',
+        options: {
+          redirectTo: `${window.location.origin}/auth/callback`,
+        },
+      });
+
+      if (error) {
+        throw new Error(`Google sign-in failed: ${error.message}`);
+      }
+    } catch (error) {
+      const message =
+        error instanceof Error ? error.message : 'Unknown error during sign-in';
+      console.error('Sign-in error:', message);
+      throw new Error(message);
+    }
+  };
+
+  /**
+   * Sign out current user
+   */
+  const signOut = async (): Promise<void> => {
+    try {
+      const { error } = await supabase.auth.signOut();
+
+      if (error) {
+        throw new Error(`Sign-out failed: ${error.message}`);
+      }
+
+      // Clear local state
+      setUser(null);
+      setSession(null);
+    } catch (error) {
+      const message =
+        error instanceof Error ? error.message : 'Unknown error during sign-out';
+      console.error('Sign-out error:', message);
+      throw new Error(message);
+    }
+  };
+
+  /**
+   * Manually refresh the current session
+   */
+  const refreshSession = async (): Promise<void> => {
+    try {
+      const {
+        data: { session: refreshedSession },
+        error,
+      } = await supabase.auth.refreshSession();
+
+      if (error) {
+        throw new Error(`Session refresh failed: ${error.message}`);
+      }
+
+      setSession(refreshedSession);
+      setUser(refreshedSession?.user ?? null);
+    } catch (error) {
+      const message =
+        error instanceof Error
+          ? error.message
+          : 'Unknown error during session refresh';
+      console.error('Session refresh error:', message);
+      throw new Error(message);
+    }
+  };
+
+  const value: AuthState = {
+    user,
+    session,
+    loading,
+    isAuthenticated: !!user,
+    signInWithGoogle,
+    signOut,
+    refreshSession,
+  };
+
+  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;
+}
+
+/**
+ * Hook to access authentication state and methods
+ * @throws Error if used outside AuthProvider
+ */
+export function useAuth(): AuthState {
+  const context = useContext(AuthContext);
+
+  if (context === undefined) {
+    throw new Error('useAuth must be used within an AuthProvider');
+  }
+
+  return context;
+}
diff --git a/src/lib/api-client.ts b/src/lib/api-client.ts
new file mode 100644
index 0000000..9ee816c
--- /dev/null
+++ b/src/lib/api-client.ts
@@ -0,0 +1,303 @@
+import { supabase } from '@/lib/supabase';
+
+/**
+ * HTTP request options
+ */
+export interface RequestOptions extends RequestInit {
+  /**
+   * Request timeout in milliseconds
+   * @default 30000 (30 seconds)
+   */
+  timeout?: number;
+
+  /**
+   * Whether to automatically inject authentication token
+   * @default true
+   */
+  includeAuth?: boolean;
+}
+
+/**
+ * API Client for making authenticated HTTP requests to Netlify Functions
+ *
+ * IMPORTANT: This client is specifically for custom Netlify Functions, NOT for Supabase.
+ *
+ * Architecture Overview:
+ * - Authentication is 100% Supabase-direct (client-side auth)
+ * - This client is ONLY for Netlify Functions that need:
+ *   - API secrets (e.g., third-party API keys)
+ *   - Server-side processing (heavy computation, file processing)
+ *   - Webhooks and external integrations
+ *   - Custom business logic that can't run client-side
+ *
+ * Deployment Configuration:
+ * - Production: Functions deployed at `/.netlify/functions/*`
+ * - Local Dev: Use `netlify dev` and set VITE_API_BASE_URL if needed
+ * - Override: Set VITE_API_BASE_URL environment variable
+ *
+ * Features:
+ * - Automatic Supabase access token injection
+ * - Token refresh on 401 responses
+ * - Configurable request timeouts
+ * - Full TypeScript type safety
+ *
+ * @example
+ * ```typescript
+ * // Call a Netlify Function at /.netlify/functions/process-audio
+ * const result = await apiClient.post('/process-audio', {
+ *   fileUrl: 'https://...',
+ *   options: { format: 'wav' }
+ * });
+ * ```
+ */
+export class ApiClient {
+  private baseUrl: string;
+  private defaultTimeout: number;
+
+  constructor(
+    baseUrl: string = import.meta.env.VITE_API_BASE_URL || '/.netlify/functions',
+    defaultTimeout: number = 30000
+  ) {
+    this.baseUrl = baseUrl;
+    this.defaultTimeout = defaultTimeout;
+  }
+
+  /**
+   * Get current access token from Supabase session
+   */
+  private async getAccessToken(): Promise<string | null> {
+    const {
+      data: { session },
+    } = await supabase.auth.getSession();
+    return session?.access_token ?? null;
+  }
+
+  /**
+   * Refresh the current session and return new access token
+   */
+  private async refreshAccessToken(): Promise<string | null> {
+    const {
+      data: { session },
+      error,
+    } = await supabase.auth.refreshSession();
+
+    if (error) {
+      throw new Error(`Token refresh failed: ${error.message}`);
+    }
+
+    return session?.access_token ?? null;
+  }
+
+  /**
+   * Make an HTTP request with automatic auth token injection and retry on 401
+   */
+  private async fetchWithAuth(
+    url: string,
+    options: RequestOptions = {}
+  ): Promise<Response> {
+    const {
+      timeout = this.defaultTimeout,
+      includeAuth = true,
+      headers = {},
+      ...fetchOptions
+    } = options;
+
+    // Create AbortController for timeout
+    const controller = new AbortController();
+    const timeoutId = setTimeout(() => controller.abort(), timeout);
+
+    try {
+      // Inject auth token if requested
+      const requestHeaders = new Headers(headers);
+
+      if (includeAuth) {
+        const token = await this.getAccessToken();
+        if (token) {
+          requestHeaders.set('Authorization', `Bearer ${token}`);
+        }
+      }
+
+      // Make initial request
+      const fullUrl = this.baseUrl + url;
+      let response = await fetch(fullUrl, {
+        ...fetchOptions,
+        headers: requestHeaders,
+        signal: controller.signal,
+      });
+
+      // Handle 401 - attempt token refresh and retry once
+      if (response.status === 401 && includeAuth) {
+        try {
+          const newToken = await this.refreshAccessToken();
+
+          if (newToken) {
+            // Retry request with new token
+            requestHeaders.set('Authorization', `Bearer ${newToken}`);
+            response = await fetch(fullUrl, {
+              ...fetchOptions,
+              headers: requestHeaders,
+              signal: controller.signal,
+            });
+          }
+        } catch (refreshError) {
+          // If refresh fails, return original 401 response
+          console.error('Token refresh failed during 401 retry:', refreshError);
+          return response;
+        }
+      }
+
+      return response;
+    } catch (error) {
+      if (error instanceof Error && error.name === 'AbortError') {
+        throw new Error(`Request timeout after ${timeout}ms: ${url}`);
+      }
+      throw error;
+    } finally {
+      clearTimeout(timeoutId);
+    }
+  }
+
+  /**
+   * Perform GET request
+   */
+  async get<T = unknown>(url: string, options?: RequestOptions): Promise<T> {
+    const response = await this.fetchWithAuth(url, {
+      ...options,
+      method: 'GET',
+    });
+
+    if (!response.ok) {
+      throw new Error(
+        `GET request failed: ${response.status} ${response.statusText}`
+      );
+    }
+
+    return response.json();
+  }
+
+  /**
+   * Perform POST request
+   */
+  async post<T = unknown>(
+    url: string,
+    body?: unknown,
+    options?: RequestOptions
+  ): Promise<T> {
+    const response = await this.fetchWithAuth(url, {
+      ...options,
+      method: 'POST',
+      headers: {
+        'Content-Type': 'application/json',
+        ...options?.headers,
+      },
+      body: body ? JSON.stringify(body) : undefined,
+    });
+
+    if (!response.ok) {
+      throw new Error(
+        `POST request failed: ${response.status} ${response.statusText}`
+      );
+    }
+
+    return response.json();
+  }
+
+  /**
+   * Perform PUT request
+   */
+  async put<T = unknown>(
+    url: string,
+    body?: unknown,
+    options?: RequestOptions
+  ): Promise<T> {
+    const response = await this.fetchWithAuth(url, {
+      ...options,
+      method: 'PUT',
+      headers: {
+        'Content-Type': 'application/json',
+        ...options?.headers,
+      },
+      body: body ? JSON.stringify(body) : undefined,
+    });
+
+    if (!response.ok) {
+      throw new Error(
+        `PUT request failed: ${response.status} ${response.statusText}`
+      );
+    }
+
+    return response.json();
+  }
+
+  /**
+   * Perform PATCH request
+   */
+  async patch<T = unknown>(
+    url: string,
+    body?: unknown,
+    options?: RequestOptions
+  ): Promise<T> {
+    const response = await this.fetchWithAuth(url, {
+      ...options,
+      method: 'PATCH',
+      headers: {
+        'Content-Type': 'application/json',
+        ...options?.headers,
+      },
+      body: body ? JSON.stringify(body) : undefined,
+    });
+
+    if (!response.ok) {
+      throw new Error(
+        `PATCH request failed: ${response.status} ${response.statusText}`
+      );
+    }
+
+    return response.json();
+  }
+
+  /**
+   * Perform DELETE request
+   */
+  async delete<T = unknown>(url: string, options?: RequestOptions): Promise<T> {
+    const response = await this.fetchWithAuth(url, {
+      ...options,
+      method: 'DELETE',
+    });
+
+    if (!response.ok) {
+      throw new Error(
+        `DELETE request failed: ${response.status} ${response.statusText}`
+      );
+    }
+
+    // Handle empty responses (204 No Content)
+    if (response.status === 204) {
+      return undefined as T;
+    }
+
+    return response.json();
+  }
+}
+
+/**
+ * Singleton API client instance for Netlify Functions
+ *
+ * Use this for making authenticated requests to custom Netlify Functions.
+ * Do NOT use this for Supabase operations - use the Supabase client directly.
+ *
+ * Configuration:
+ * - Default: `/.netlify/functions` (production)
+ * - Override: Set VITE_API_BASE_URL environment variable
+ * - Local Dev: Use `netlify dev` to run functions locally
+ *
+ * @example
+ * ```typescript
+ * // Call a Netlify Function
+ * const data = await apiClient.get('/my-function');
+ *
+ * // Post with auth token automatically injected
+ * await apiClient.post('/webhook-handler', { event: 'user.created' });
+ * ```
+ */
+export const apiClient = new ApiClient();
diff --git a/src/lib/supabase.ts b/src/lib/supabase.ts
new file mode 100644
index 0000000..7fe3568
--- /dev/null
+++ b/src/lib/supabase.ts
@@ -0,0 +1,32 @@
+import { createClient } from '@supabase/supabase-js';
+
+// Read environment variables
+const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;
+const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;
+
+// Validate required environment variables
+if (!supabaseUrl) {
+  throw new Error(
+    'VITE_SUPABASE_URL is not configured. Please set it in your .env file.'
+  );
+}
+
+if (!supabaseAnonKey) {
+  throw new Error(
+    'VITE_SUPABASE_ANON_KEY is not configured. Please set it in your .env file.'
+  );
+}
+
+// Create Supabase client with PKCE flow and session persistence
+export const supabase = createClient(supabaseUrl, supabaseAnonKey, {
+  auth: {
+    // Use PKCE flow for enhanced security
+    flowType: 'pkce',
+    // Automatically refresh tokens before they expire
+    autoRefreshToken: true,
+    // Persist session in localStorage
+    persistSession: true,
+    // Detect session from URL (OAuth callback)
+    detectSessionInUrl: true,
+  },
+});
diff --git a/src/main.tsx b/src/main.tsx
index 68176a7..1025efa 100644
--- a/src/main.tsx
+++ b/src/main.tsx
@@ -1,5 +1,10 @@
 import { createRoot } from "react-dom/client";
+import { AuthProvider } from "@/contexts/AuthContext";
 import App from "./App.tsx";
 import "./index.css";
 
-createRoot(document.getElementById("root")!).render(<App />);
+createRoot(document.getElementById("root")!).render(
+  <AuthProvider>
+    <App />
+  </AuthProvider>
+);
diff --git a/src/pages/AuthCallback.tsx b/src/pages/AuthCallback.tsx
new file mode 100644
index 0000000..0da1a50
--- /dev/null
+++ b/src/pages/AuthCallback.tsx
@@ -0,0 +1,40 @@
+import { useEffect } from 'react';
+import { useNavigate } from 'react-router-dom';
+import { Card, CardContent } from '@/components/ui/card';
+import { Skeleton } from '@/components/ui/skeleton';
+
+export function AuthCallback() {
+  const navigate = useNavigate();
+
+  useEffect(() => {
+    // Wait 1 second to allow auth state to update, then redirect to home
+    const timer = setTimeout(() => {
+      navigate('/', { replace: true });
+    }, 1000);
+
+    return () => clearTimeout(timer);
+  }, [navigate]);
+
+  return (
+    <div className="flex items-center justify-center min-h-screen bg-background">
+      <Card className="w-full max-w-md mx-4">
+        <CardContent className="pt-6">
+          <div className="space-y-4">
+            <div className="text-center space-y-2">
+              <h2 className="text-xl font-semibold">Completing sign in...</h2>
+              <p className="text-sm text-muted-foreground">
+                Please wait while we set up your session
+              </p>
+            </div>
+
+            <div className="space-y-3 mt-6">
+              <Skeleton className="h-12 w-full" />
+              <Skeleton className="h-12 w-full" />
+              <Skeleton className="h-12 w-full" />
+            </div>
+          </div>
+        </CardContent>
+      </Card>
+    </div>
+  );
+}
diff --git a/src/pages/Login.tsx b/src/pages/Login.tsx
new file mode 100644
index 0000000..b97b69c
--- /dev/null
+++ b/src/pages/Login.tsx
@@ -0,0 +1,90 @@
+import { useState } from 'react';
+import { useNavigate, useLocation } from 'react-router-dom';
+import { useAuth } from '@/contexts/AuthContext';
+import { Button } from '@/components/ui/button';
+import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
+import { Alert, AlertDescription } from '@/components/ui/alert';
+import { Loader2 } from 'lucide-react';
+
+export function Login() {
+  const { signInWithGoogle } = useAuth();
+  const navigate = useNavigate();
+  const location = useLocation();
+  const [loading, setLoading] = useState(false);
+  const [error, setError] = useState<string | null>(null);
+
+  const from = location.state?.from?.pathname || '/';
+
+  const handleGoogleSignIn = async () => {
+    setLoading(true);
+    setError(null);
+
+    try {
+      await signInWithGoogle();
+      // OAuth redirect happens automatically, no need to navigate
+    } catch (err: any) {
+      setLoading(false);
+      setError(err.message || 'Failed to sign in with Google. Please try again.');
+    }
+  };
+
+  return (
+    <div className="flex items-center justify-center min-h-screen bg-background">
+      <Card className="w-full max-w-md mx-4">
+        <CardHeader className="space-y-1">
+          <CardTitle className="text-2xl font-bold text-center">Welcome to XL3 Web</CardTitle>
+          <CardDescription className="text-center">
+            Sign in to access your MIDI controller modes
+          </CardDescription>
+        </CardHeader>
+        <CardContent className="space-y-4">
+          {error && (
+            <Alert variant="destructive">
+              <AlertDescription>{error}</AlertDescription>
+            </Alert>
+          )}
+
+          <Button
+            onClick={handleGoogleSignIn}
+            disabled={loading}
+            className="w-full"
+            size="lg"
+          >
+            {loading ? (
+              <>
+                <Loader2 className="mr-2 h-4 w-4 animate-spin" />
+                Redirecting to Google...
+              </>
+            ) : (
+              <>
+                <svg className="mr-2 h-4 w-4" viewBox="0 0 24 24">
+                  <path
+                    fill="currentColor"
+                    d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
+                  />
+                  <path
+                    fill="currentColor"
+                    d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
+                  />
+                  <path
+                    fill="currentColor"
+                    d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
+                  />
+                  <path
+                    fill="currentColor"
+                    d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
+                  />
+                </svg>
+                Sign in with Google
+              </>
+            )}
+          </Button>
+
+          <p className="text-xs text-center text-muted-foreground">
+            By signing in, you agree to our Terms of Service and Privacy Policy
+          </p>
+        </CardContent>
+      </Card>
+    </div>
+  );
+}
diff --git a/src/types/auth.ts b/src/types/auth.ts
new file mode 100644
index 0000000..4c589e3
--- /dev/null
+++ b/src/types/auth.ts
@@ -0,0 +1,50 @@
+import type { User, Session } from '@supabase/supabase-js';
+
+// Re-export Supabase auth types
+export type { User, Session };
+
+/**
+ * Authentication state interface
+ * Provides user session information and authentication methods
+ */
+export interface AuthState {
+  /**
+   * Currently authenticated user, or null if not authenticated
+   */
+  user: User | null;
+
+  /**
+   * Current session with tokens, or null if not authenticated
+   */
+  session: Session | null;
+
+  /**
+   * Loading state during authentication operations
+   */
+  loading: boolean;
+
+  /**
+   * Convenience flag indicating if user is authenticated
+   */
+  isAuthenticated: boolean;
+
+  /**
+   * Initiate Google OAuth sign-in flow
+   * Redirects to Google authentication page
+   * @throws Error if authentication fails
+   */
+  signInWithGoogle: () => Promise<void>;
+
+  /**
+   * Sign out current user and clear session
+   * @throws Error if sign-out fails
+   */
+  signOut: () => Promise<void>;
+
+  /**
+   * Manually refresh the current session
+   * Called automatically on 401 responses
+   * @throws Error if refresh fails
+   */
+  refreshSession: () => Promise<void>;
+}


---

_**Agent (claude-sonnet-4-5-20250929)**_

feat(auth): implement Google OAuth authentication with Supabase

