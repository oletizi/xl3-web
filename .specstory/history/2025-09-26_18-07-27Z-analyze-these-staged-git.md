<!-- Generated by SpecStory -->

# 2025-09-26 18:07:27Z

<!-- Claude Code Session 536dd1d9-68d4-4c51-9f3f-010f4aa85f60 (2025-09-26_18-07-27Z) -->

_**User**_

Analyze these staged git changes and output ONLY a single-line conventional commit message (type(scope): description). No explanations.
diff --git a/WORKPLAN-MVP.md b/WORKPLAN-MVP.md
new file mode 100644
index 0000000..3a3e41c
--- /dev/null
+++ b/WORKPLAN-MVP.md
@@ -0,0 +1,546 @@
+# Launch Control XL 3 Web UI - MVP Workplan
+
+## Executive Summary
+
+This workplan defines the **Minimum Viable Product** for the Launch Control XL 3 Web UI. Based on architectural review, we've ruthlessly trimmed the scope to deliver a working, valuable tool in 2-3 weeks that validates core assumptions before investing in complex infrastructure.
+
+**MVP Goal**: Local-only visual mode editor with hardware integration
+
+**Timeline**: 2-3 weeks (15 development days)
+
+**Deferred**: Authentication, cloud storage, community features, advanced UI
+
+## MVP Scope Definition
+
+### What's IN the MVP
+
+1. **Visual Mode Editor**
+   - SVG representation of Launch Control XL 3 hardware
+   - Click-to-select controls on the visual representation
+   - Property panel for editing control parameters (CC number, MIDI channel)
+   - Mode metadata (name, description)
+
+2. **Hardware Integration**
+   - WebMIDI connection detection and status
+   - Send custom mode to connected device
+   - Basic device communication feedback
+
+3. **Local Persistence**
+   - Browser localStorage for saving modes
+   - JSON export for backup/sharing
+   - JSON import for loading modes
+
+### What's OUT of the MVP
+
+- ❌ Authentication & user accounts
+- ❌ Cloud storage & sync
+- ❌ Community catalog & sharing platform
+- ❌ Advanced UI components (Radix, Framer Motion)
+- ❌ Database (PostgreSQL, Prisma)
+- ❌ Backend API routes
+- ❌ Folders & organization
+- ❌ Search & filtering
+- ❌ Ratings & reviews
+- ❌ Real-time collaboration
+- ❌ Mobile optimization
+
+## Technical Architecture
+
+### Stack (Minimal)
+
+```yaml
+Frontend:
+  - Next.js 14 (static site generation mode)
+  - React 18 + TypeScript (strict mode)
+  - Tailwind CSS (utility-first styling)
+  - @oletizi/launch-control-xl3 (npm package)
+  - WebMIDI API (browser native)
+
+Storage:
+  - localStorage (browser native)
+  - JSON files (export/import)
+
+Deployment:
+  - Netlify (static site hosting)
+  - No backend functions
+  - No database
+  - No environment variables
+```
+
+### Project Structure
+
+```
+xl3-web/
+├── src/
+│   ├── app/                    # Next.js App Router
+│   │   ├── layout.tsx         # Root layout
+│   │   ├── page.tsx           # Home/Editor page
+│   │   └── globals.css        # Global styles
+│   │
+│   ├── components/            # React components
+│   │   ├── editor/
+│   │   │   ├── ControllerVisual.tsx    # SVG hardware representation
+│   │   │   ├── ControlSelector.tsx     # Click-to-select controls
+│   │   │   ├── PropertyPanel.tsx       # Edit control properties
+│   │   │   └── ModeMetadata.tsx        # Name/description
+│   │   │
+│   │   ├── hardware/
+│   │   │   ├── MIDIConnection.tsx      # Device connection UI
+│   │   │   └── DeviceStatus.tsx        # Connection status
+│   │   │
+│   │   └── storage/
+│   │       ├── ExportButton.tsx        # JSON export
+│   │       └── ImportButton.tsx        # JSON import
+│   │
+│   ├── lib/                   # Business logic
+│   │   ├── midi/
+│   │   │   ├── connection.ts          # WebMIDI setup
+│   │   │   ├── device-manager.ts      # Device communication
+│   │   │   └── mode-sender.ts         # Send mode to device
+│   │   │
+│   │   ├── storage/
+│   │   │   ├── local-storage.ts       # localStorage operations
+│   │   │   ├── export.ts              # JSON export logic
+│   │   │   └── import.ts              # JSON import logic
+│   │   │
+│   │   └── mode/
+│   │       ├── builder.ts             # CustomMode builder wrapper
+│   │       └── validator.ts           # Basic validation
+│   │
+│   ├── hooks/                 # Custom React hooks
+│   │   ├── useMIDIDevice.ts          # WebMIDI connection hook
+│   │   ├── useModeBuilder.ts         # Mode building state
+│   │   └── useLocalStorage.ts        # Storage operations
+│   │
+│   └── types/                 # TypeScript types
+│       ├── mode.ts                    # Mode data structures
+│       └── midi.ts                    # MIDI-related types
+│
+├── public/                    # Static assets
+│   └── controller.svg         # XL3 hardware visual
+│
+├── package.json
+├── tsconfig.json
+├── tailwind.config.ts
+├── next.config.js
+└── .gitignore
+```
+
+## Implementation Timeline
+
+### Week 1: Foundation & WebMIDI
+
+#### Day 1-2: Project Setup
+- **Tasks**:
+  - Initialize Next.js 14 with TypeScript and Tailwind
+  - Install `@oletizi/launch-control-xl3` from npm
+  - Configure TypeScript strict mode
+  - Set up basic layout and routing
+  - Configure Netlify for static deployment
+
+- **Deliverables**:
+  - Working Next.js dev environment
+  - Package successfully imported
+  - Basic app shell rendering
+
+- **Success Criteria**:
+  - `pnpm dev` runs without errors
+  - TypeScript compilation successful
+  - Can import and use `@oletizi/launch-control-xl3`
+
+#### Day 3-4: Hardware Visual
+- **Tasks**:
+  - Create SVG representation of Launch Control XL 3
+  - Implement ControllerVisual component
+  - Make controls clickable/selectable
+  - Add visual feedback for selection
+  - Create basic property panel UI
+
+- **Deliverables**:
+  - Interactive hardware visual
+  - Control selection works
+  - Property panel displays
+
+- **Success Criteria**:
+  - All 40+ controls are represented
+  - Click selects a control
+  - Selected control highlights
+  - Properties display in panel
+
+#### Day 5: WebMIDI Integration
+- **Tasks**:
+  - Implement WebMIDI connection logic
+  - Create device detection UI
+  - Add connection status indicator
+  - Handle permission requests
+  - Test across browsers (Chrome, Edge)
+
+- **Deliverables**:
+  - WebMIDI connection manager
+  - Device detection working
+  - Status UI functional
+
+- **Success Criteria**:
+  - Detects connected XL3 device
+  - Shows connection status
+  - Handles permission denial gracefully
+  - Works in Chrome/Edge (WebMIDI supported browsers)
+
+### Week 2: Core Editor Functionality
+
+#### Day 6-7: Control Mapping
+- **Tasks**:
+  - Integrate @oletizi/launch-control-xl3 CustomModeBuilder
+  - Implement property editing (CC, channel, range)
+  - Wire up property changes to mode builder
+  - Add control type handling (button, knob, fader)
+  - Implement undo/redo for property changes
+
+- **Deliverables**:
+  - Working property editor
+  - Changes persist in mode state
+  - CustomModeBuilder integration complete
+
+- **Success Criteria**:
+  - Can edit CC numbers (0-127)
+  - Can change MIDI channels (1-16)
+  - Changes update visual feedback
+  - Mode object builds correctly
+
+#### Day 8-9: Send to Device
+- **Tasks**:
+  - Implement mode-to-device sender
+  - Add "Send to Device" button
+  - Create device communication error handling
+  - Add feedback for successful send
+  - Test with real hardware
+
+- **Deliverables**:
+  - Mode sending functionality
+  - Error handling
+  - Success feedback
+
+- **Success Criteria**:
+  - Built mode sends to device successfully
+  - Device responds with custom mode active
+  - Controls work as configured
+  - Errors display helpful messages
+
+#### Day 10: Mode Metadata
+- **Tasks**:
+  - Add mode name/description fields
+  - Create ModeMetadata component
+  - Wire up metadata to mode builder
+  - Add basic validation (name required)
+  - Style metadata editor
+
+- **Deliverables**:
+  - Mode metadata editor
+  - Validation working
+
+- **Success Criteria**:
+  - Can name the mode
+  - Can add description
+  - Name is required
+  - Metadata persists with mode
+
+### Week 3: Persistence & Launch
+
+#### Day 11-12: Local Storage
+- **Tasks**:
+  - Implement localStorage persistence
+  - Auto-save mode changes
+  - Load mode on app start
+  - Handle storage quota errors
+  - Add manual save button as backup
+
+- **Deliverables**:
+  - Working localStorage
+  - Auto-save functional
+  - Load on startup working
+
+- **Success Criteria**:
+  - Mode survives page refresh
+  - Changes auto-save (debounced)
+  - Works with 5-10 modes stored
+  - Handles storage errors gracefully
+
+#### Day 13-14: Import/Export
+- **Tasks**:
+  - Implement JSON export
+  - Implement JSON import
+  - Add file download for export
+  - Add file upload for import
+  - Validate imported JSON structure
+  - Handle import errors
+
+- **Deliverables**:
+  - Export downloads JSON file
+  - Import loads from JSON file
+  - Validation prevents bad imports
+
+- **Success Criteria**:
+  - Exported JSON is valid and readable
+  - Imported mode loads correctly
+  - Invalid JSON shows clear error
+  - Can share modes via file exchange
+
+#### Day 15: Polish & Deploy
+- **Tasks**:
+  - Bug fixes and testing
+  - Cross-browser testing (Chrome, Edge, Firefox)
+  - Error handling improvements
+  - Add loading states
+  - Write basic README
+  - Deploy to Netlify
+  - Smoke test production
+
+- **Deliverables**:
+  - Deployed MVP
+  - README documentation
+  - Known issues documented
+
+- **Success Criteria**:
+  - Site loads on Netlify
+  - Core workflow works end-to-end
+  - No critical bugs
+  - Performance acceptable (< 3s load)
+
+## Risk Assessment
+
+### High-Risk Items (Address Immediately)
+
+1. **WebMIDI Browser Support**
+   - **Risk**: Limited to Chrome/Edge
+   - **Mitigation**: Document browser requirements clearly
+   - **Fallback**: Still useful for mode building even without device
+
+2. **@oletizi/launch-control-xl3 Package Integration**
+   - **Risk**: Package may not work as expected in browser
+   - **Mitigation**: Test integration on Day 1-2
+   - **Fallback**: Use types only, implement custom builder
+
+3. **Hardware Communication Reliability**
+   - **Risk**: Device communication may fail
+   - **Mitigation**: Comprehensive error handling
+   - **Fallback**: Focus on mode building, device optional
+
+### Medium-Risk Items
+
+4. **localStorage Limitations**
+   - **Risk**: Storage quota may be small
+   - **Mitigation**: Export/import as primary backup
+   - **Impact**: Users can always export before clearing
+
+5. **Complex UI State Management**
+   - **Risk**: State bugs with editor complexity
+   - **Mitigation**: Keep state simple, test thoroughly
+   - **Impact**: Start simple, add complexity carefully
+
+### Low-Risk Items
+
+6. **Static Site Deployment**
+   - **Risk**: Minimal - Netlify handles well
+   - **Mitigation**: Follow Netlify docs
+   - **Impact**: Very low
+
+## Testing Strategy
+
+### Manual Testing (Primary for MVP)
+
+**Daily Testing Checklist**:
+- [ ] App loads without errors
+- [ ] Visual renders correctly
+- [ ] Can select controls
+- [ ] Properties update
+- [ ] Device connects (if available)
+- [ ] Mode sends to device (if available)
+- [ ] localStorage persists
+- [ ] Export downloads file
+- [ ] Import loads file
+
+### Browser Testing
+
+**Required**:
+- Chrome (primary target)
+- Edge (WebMIDI support)
+
+**Nice to have**:
+- Firefox (no WebMIDI, but UI should work)
+- Safari (no WebMIDI, but UI should work)
+
+### Hardware Testing
+
+**Critical**:
+- Test with real Launch Control XL 3 device
+- Verify controls respond as configured
+- Test multiple control types
+- Verify mode switching works
+
+## Success Metrics
+
+### MVP Launch Criteria
+
+1. **Functional**:
+   - [ ] Can create a custom mode
+   - [ ] Can edit control properties
+   - [ ] Can send mode to device
+   - [ ] Mode persists across sessions
+   - [ ] Can export/import modes
+
+2. **Quality**:
+   - [ ] No critical bugs
+   - [ ] Works in Chrome/Edge
+   - [ ] Acceptable performance (< 3s load)
+   - [ ] Basic error handling
+
+3. **Deployment**:
+   - [ ] Deployed to Netlify
+   - [ ] Accessible via URL
+   - [ ] README documentation
+
+### Post-MVP Validation
+
+After MVP launch, validate:
+- Do users find the visual editor valuable?
+- Is browser-based better than desktop app?
+- Do users want cloud features?
+- What features do users request most?
+
+## Post-MVP Roadmap
+
+### v1.1 (Weeks 4-6): Cloud Storage
+- Add authentication (NextAuth.js)
+- Implement cloud mode storage
+- Add user library management
+- Multi-mode support
+
+### v1.2 (Weeks 7-8): Enhanced UX
+- Add Radix UI components
+- Improve visual polish
+- Add keyboard shortcuts
+- Better mobile support
+
+### v2.0 (Weeks 9-12): Community
+- Community catalog
+- Mode sharing
+- Ratings & reviews
+- Public profiles
+
+### v2.1+: Advanced Features
+- Templates & presets
+- Bulk operations
+- Advanced search
+- Collaboration
+
+## Dependencies & Prerequisites
+
+### Required
+
+- **Node.js**: v18+ (for Next.js 14)
+- **pnpm**: Latest version
+- **Git**: For version control
+- **Modern browser**: Chrome or Edge (for WebMIDI)
+- **Hardware**: Launch Control XL 3 (for full testing)
+
+### Development Environment
+
+```bash
+# Install Node.js 18+
+node --version  # verify
+
+# Install pnpm
+npm install -g pnpm
+
+# Verify package availability
+pnpm view @oletizi/launch-control-xl3
+```
+
+## Getting Started
+
+### Initial Setup
+
+```bash
+# Create Next.js project
+pnpm create next-app@latest xl3-web --typescript --tailwind --app --no-src-dir
+
+# Navigate to project
+cd xl3-web
+
+# Install core dependency
+pnpm add @oletizi/launch-control-xl3
+
+# Start development
+pnpm dev
+```
+
+### Configuration
+
+```typescript
+// tsconfig.json
+{
+  "compilerOptions": {
+    "strict": true,
+    "baseUrl": ".",
+    "paths": {
+      "@/*": ["./src/*"]
+    }
+  }
+}
+
+// next.config.js
+module.exports = {
+  output: 'export',  // Static export for Netlify
+  images: {
+    unoptimized: true  // Required for static export
+  }
+}
+```
+
+## Documentation Requirements
+
+### For MVP Launch
+
+- **README.md**: Basic usage instructions
+- **Browser Requirements**: WebMIDI compatibility note
+- **Hardware Setup**: How to connect device
+- **Known Issues**: Document limitations
+
+### Post-MVP
+
+- User guide (detailed)
+- API documentation
+- Contributing guide
+- Troubleshooting guide
+
+## Notes & Assumptions
+
+1. **Browser Support**: Accepting WebMIDI limitation (Chrome/Edge only)
+2. **Local-First**: MVP is local-only by design, cloud is post-MVP
+3. **Single Mode**: MVP focuses on one mode at a time
+4. **No Backend**: Purely static site, no API needed
+5. **Manual Sharing**: JSON export/import is sufficient for MVP
+6. **Hardware Optional**: App useful even without connected device
+
+## Questions to Resolve
+
+1. **Package Verification**: Does `@oletizi/launch-control-xl3` work in browser context?
+2. **WebMIDI SysEx**: Do we need SysEx permissions for custom modes?
+3. **Device Memory**: How many custom mode slots does the XL3 have?
+4. **Visual Design**: Do we have official brand assets/colors?
+
+## Success Definition
+
+**MVP is successful if**:
+- A user can create a custom mode visually
+- The mode works on their hardware
+- They can save and reload their work
+- They can share modes with others (via export)
+
+This validates the core value proposition before investing in complex infrastructure.
+
+---
+
+**Status**: Ready to implement
+**Target Launch**: Week 3, Day 15
+**Next Step**: Initialize Next.js project and verify package integration
\ No newline at end of file


---

_**Agent (claude-opus-4-1-20250805)**_

docs(mvp): add comprehensive MVP workplan for web UI development

